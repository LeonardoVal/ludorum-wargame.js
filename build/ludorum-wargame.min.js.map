{"version":3,"sources":["../src/__prologue__.js","../src/dynamicScripting.js","../src/armies.js","../src/moves.js","../src/wargame.js","../src/terrain.js","../src/test.js","../src/grim-future.js","../src/render.js","../src/strategic.js","../src/__epilogue__.js"],"names":["__init__","base","Sermat","ludorum","playerRule","priority","fun","declare","iterable","Iterable","initialize","raiseIf","obj","exports","__package__","__name__","__dependencies__","__SERMAT__","include","Army","constructor","args","army","this","string","ignore","number","coerce","defaultValue","array","units","forEach","unit","i","id","player","isEnabled","len","length","startRound","filter","actions","game","activeUnit","getActions","map","ActivateAction","isEliminated","isDead","livingUnits","worth","sum","static __SERMAT__","serializer","score","Unit","radius","quality","defense","props","bool","position","Float32Array","cost","models","m","size","livingModels","model","health","toughness","EndTurnAction","isActive","hasMoved","concat","getMoveActions","getShootActions","maxRange","r","Infinity","equipments","equipment","range","enemyUnits","armies","opponent","shooter","ret","target","terrain","canShoot","ShootAction","reachablePositions","mapApply","k","v","pos","split","MoveAction","toArray","activate","__activeUnit__","endTurn","move","newPosition","suffer","woundCount","modelHealth","wounds","Math","min","influence","hasOwnProperty","Model","shooting","eq","melee","GameAction","aleatories","execute","objects","unimplemented","unitById","unitId","players","j","identifier","run","Array","apply","targetId","distance","canSee","attackCount","attacks","aleatory","ShootAleatory","haps","targetUnit","targetWorth","AssaultAction","counterWounds","disable","targetCost","combinations","math","rolls","p","n","pow","rerolls","ns","repeat","p2","p3","addRolls","rs1","rs2","len1","len2","Aleatory","shooterQuality","targetDefense","__hitProb__","max","__saveProb__","rs","__distribution__","distribution","value","random","Randomness","DEFAULT","weightedChoice","Wargame","Game","name","rounds","params","call","activePlayer","object","integer","round","nextRound","nextTurn","indexOf","activePlayers","scores","toObject","result","player1","player2","zerosumResult","synchronizeMetagame","resetTerrain","moves","next","update","action","Contingent","nextGame","sermat","Terrain","SURROUNDINGS","dx","dy","SQRT2","tileSet","passable","visible","line","Uint8Array","__unitsByPosition__","width","height","wargame","unitsByPosition","team","tileAt","tile","isPassable","checkUnits","isVisible","pos2","cost2","delta","visited","pending","push","dual bresenham","point1","point2","e2","abs","sx","sy","curLoc","slice","err","shooterUnit","sight","bresenham","areaOfSight","area","BRESENHAM_CACHE","forEachApply","_","path","prototype","InfluenceMap","momentum","decay","iterations","role","grid","terrainGrid","unitsInfluences","spread","sign","posX","posY","imap","getMomentumInf","c","decays","di","dj","absInf","absV","inf","NaN","exp","oneGrid","isNaN","test","example0","ARMY","GrimFuture","BattleBrothers","Red","UNITS","BattleBrothers_Unit","Blue","example1","exampleDS1","type","Shape","CIRCLE","x","y","exampleDS2","MODELS","BattleBrother","exampleDS3","SupportBrothers_Unit","exampleDS4","randomGame","RandomPlayer","window","match","Match","events","on","RENDERER","render","console","log","ser","then","randomAbstractedGame","MonteCarloPlayer","simulationCount","timeCap","AbstractedWargame","concreteGame","loadUnitsBut","renderGrid","randomAbstractedGameDiscrete","alert","testGame","renderSight","EQUIPMENTS","LightClaws","CClaws","Pistol","AssaultRifle","HeavyFlamethrower","ap","AssaultBrother","SupportBrother","fearless","AssaultBrothers_Unit","faction","static MODELS","static UNITS","DynamicScriptingPlayer","Player","__pendingActions__","__roundActions__","rules","ownRules","self","Object","keys","getPrototypeOf","member","substr","sortRules","sort","r1","r2","decision","rule","roundActions","adjustWeights","__rule__","shift","__lastRound__","diff","gameWorth","deadModels","armiesAndUnits","playerUnits","unitY","unitX","serializeAsProperties","shoot","assault","moveAction","mostDangerousUnits","livingEnemyUnits","enemyUnit","canKill","dangerousUnits","attacker","canKillShooting","canKillAssaulting","bestAttackResultShooting","assaulter","bestAttackResultAssaulting","bestAttackResult","barShooting","barAssaulting","unitYModelsAlive","possibleUnits","pu","shootableUnits","eu","enemyArmy","playerArmy","enemy","wounded","canWoundALot","canWound","maxCost","mostExpensiveUnit","rule_3A","rule_2A","livingEnemyUnitsList","rule_1A","rule_1B","moveActions","Renderer","canvas","document","getElementById","ctx","getContext","fillStyle","renderScope","block","save","scale","restore","clearRect","drawSquare","renderer","strokeStyle","font","fillText","alpha","color","fillRect","StrategicAttackAction","executeMovement","theGame","__distance__","getDistance","approaches","__range__","m1","m2","getShots","attack","abstractedGame","g","shots","randomNext","product"],"mappings":"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","file":"ludorum-wargame.min.js"}