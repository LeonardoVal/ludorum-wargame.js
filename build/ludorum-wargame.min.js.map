{"version":3,"sources":["../src/__prologue__.js","../src/dynamicScripting.js","../src/armies.js","../src/moves.js","../src/wargame.js","../src/terrain.js","../src/test.js","../src/grim-future.js","../src/render.js","../src/strategic.js","../src/__epilogue__.js"],"names":["__init__","base","Sermat","ludorum","playerRule","priority","fun","declare","iterable","Iterable","initialize","raiseIf","obj","exports","__package__","__name__","__dependencies__","__SERMAT__","include","Army","constructor","args","army","this","string","ignore","number","coerce","defaultValue","array","units","forEach","unit","i","id","player","isEnabled","len","length","startRound","filter","actions","game","activeUnit","getActions","map","ActivateAction","isEliminated","isDead","livingUnits","worth","sum","static __SERMAT__","serializer","score","Unit","radius","quality","defense","props","bool","position","Float32Array","cost","models","m","size","livingModels","model","health","toughness","EndTurnAction","isActive","hasMoved","concat","getMoveActions","getShootActions","maxRange","r","Infinity","equipments","equipment","range","enemyUnits","armies","opponent","shooter","ret","target","terrain","canShoot","ShootAction","reachablePositions","mapApply","k","v","pos","split","MoveAction","toArray","activate","__activeUnit__","endTurn","move","newPosition","suffer","woundCount","modelHealth","wounds","Math","min","influence","hasOwnProperty","Model","shooting","eq","melee","GameAction","aleatories","execute","objects","unimplemented","unitById","unitId","players","j","identifier","run","Array","apply","targetId","distance","attackCount","attacks","aleatory","ShootAleatory","haps","targetUnit","targetWorth","AssaultAction","counterWounds","disable","targetCost","combinations","math","rolls","p","n","pow","rerolls","ns","repeat","p2","p3","addRolls","rs1","rs2","len1","len2","Aleatory","shooterQuality","targetDefense","__hitProb__","max","__saveProb__","rs","__distribution__","distribution","value","random","Randomness","DEFAULT","weightedChoice","Wargame","Game","name","rounds","params","call","activePlayer","object","integer","round","nextRound","nextTurn","indexOf","activePlayers","scores","toObject","result","player1","player2","zerosumResult","synchronizeMetagame","resetTerrain","moves","next","update","action","Contingent","nextGame","sermat","Terrain","SURROUNDINGS","dx","dy","SQRT2","tileSet","passable","visible","line","Uint8Array","__unitsByPosition__","width","height","wargame","unitsByPosition","team","tileAt","tile","isPassable","checkUnits","isVisible","p1","d0","d1","sqrt","pos2","cost2","delta","visited","pending","push","dual bresenham","point1","point2","e2","abs","sx","sy","curLoc","slice","err","shooterUnit","sight","bresenham","areaOfSight","area","BRESENHAM_CACHE","forEachApply","_","path","prototype","InfluenceMap","momentum","decay","iterations","role","grid","terrainGrid","unitsInfluences","spread","sign","posX","posY","imap","getMomentumInf","c","decays","di","dj","absInf","absV","inf","NaN","exp","oneGrid","isNaN","test","example0","ARMY","GrimFuture","BattleBrothers","Red","UNITS","BattleBrothers_Unit","Blue","example1","exampleDS1","type","Shape","CIRCLE","x","y","exampleDS2","MODELS","BattleBrother","exampleDS3","SupportBrothers_Unit","exampleDS4","randomGame","RandomPlayer","window","match","Match","events","on","RENDERER","render","console","log","ser","then","randomAbstractedGame","MonteCarloPlayer","simulationCount","timeCap","AbstractedWargame","concreteGame","loadUnitsBut","renderGrid","randomAbstractedGameDiscrete","alert","testGame","renderSight","EQUIPMENTS","LightClaws","CClaws","Pistol","AssaultRifle","HeavyFlamethrower","ap","AssaultBrother","SupportBrother","fearless","AssaultBrothers_Unit","faction","static MODELS","static UNITS","DynamicScriptingPlayer","Player","__pendingActions__","__roundActions__","rules","ownRules","self","Object","keys","getPrototypeOf","member","substr","sortRules","sort","r1","r2","decision","rule","roundActions","adjustWeights","__rule__","shift","__lastRound__","diff","gameWorth","deadModels","armiesAndUnits","playerUnits","unitY","unitX","serializeAsProperties","shoot","assault","moveAction","mostDangerousUnits","livingEnemyUnits","enemyUnit","canKill","dangerousUnits","canSee","attacker","canKillShooting","canKillAssaulting","bestAttackResultShooting","assaulter","bestAttackResultAssaulting","bestAttackResult","barShooting","barAssaulting","unitYModelsAlive","possibleUnits","pu","shootableUnits","eu","enemyArmy","playerArmy","enemy","wounded","canWoundALot","canWound","maxCost","mostExpensiveUnit","rule_3A","rule_2A","livingEnemyUnitsList","rule_1A","rule_1B","moveActions","Renderer","canvas","document","getElementById","ctx","getContext","fillStyle","renderScope","block","save","scale","restore","clearRect","drawSquare","renderer","strokeStyle","font","fillText","alpha","color","fillRect","StrategicAttackAction","executeMovement","__distance__","approaches","__range__","m1","m2","getShots","attack","abstractedGame","g","shots","randomNext","product"],"mappings":";;0SAEA,QAASA,GAASC,EAAMC,EAAQC,GAAW,YCF1C,SAASC,GAAWC,EAAUC,GAE7B,MADAA,GAAID,SAAWA,EACRC,EDER,GAAIC,GAAUN,EAAKM,QAClBC,EAAWP,EAAKO,SAChBC,EAAWR,EAAKQ,SAChBC,EAAaT,EAAKS,WAClBC,EAAUV,EAAKU,QACfC,EAAMX,EAAKW,IAGRC,GACFC,YAAa,kBACbC,SAAU,kBACVf,SAAUA,EACVgB,kBAAmBf,EAAMC,EAAQC,GACjCc,YAAcC,SAAUjB,KETvBkB,EAAON,EAAQM,KAAOZ,GACzBa,YAAa,SAAcC,GAC1B,GAAIC,GAAOC,IACXb,GAAWa,KAAMF,GACfG,OAAM,UAAaC,QAAQ,IAC3BC,OAAM,SAAYC,QAAQ,EAAMC,aAAc,IAC9CC,MAAK,SACHN,KAAKO,OACRP,KAAKO,MAAMC,QAAQ,SAAUC,EAAMC,GAClCD,EAAKE,GAAKZ,EAAKa,OAAO,IAAMF,EAC5BD,EAAKV,KAAOA,KAOfc,UAAW,WACV,IAAK,GAAIH,GAAI,EAAGI,EAAMd,KAAKO,MAAMQ,OAAQL,EAAII,EAAKJ,IACjD,GAAIV,KAAKO,MAAMG,GAAGG,UACjB,OAAO,CAGT,QAAO,GAKRG,WAAY,WACX,MAAOhB,MAAKO,MAAMU,OAAO,SAAUR,GAClC,MAAOA,GAAKO,eACVD,QAKJG,QAAS,SAAiBC,GACzB,GAAIC,GAAaD,EAAKC,YACtB,OAAIA,GACIA,EAAWC,WAAWF,GAEtBnB,KAAKO,MAAMU,OAAO,SAAUR,GAClC,MAAOA,GAAKI,YACVS,IAAI,SAAUb,GAChB,MAAO,IAAIc,GAAed,EAAKE,OAOlCa,aAAc,SAAsBL,GACnC,MAAOnB,MAAKO,MAAMU,OAAO,SAAUR,GAClC,OAAQA,EAAKgB,WACXV,QAAU,GAKdW,YAAa,WACZ,MAAO1B,MAAKO,MAAMU,OAAO,SAAUR,GAClC,OAAQA,EAAKgB,YAIfE,MAAO,WACN,MAAO1C,GAASe,KAAKO,OAAOe,IAAI,SAAUb,GACzC,MAAOA,GAAKkB,UACVC,OAKJC,qBACCC,WAAY,SAAwBzC,GACnC,QAAUuB,OAAQvB,EAAIuB,OAAQL,MAAOlB,EAAIkB,MAAOwB,MAAO1C,EAAI0C,YAa1DC,EAAO1C,EAAQ0C,KAAOhD,GAEzBiD,OAAQ,GACRC,QAAS,EACTC,QAAS,EAETtC,YAAa,SAAcuC,GAC1BjD,EAAWa,KAAMoC,GACf9B,MAAK,YACLA,MAAK,UACL+B,KAAI,YAAenC,QAAQ,IAC3BmC,KAAI,YAAenC,QAAQ,IAC3BmC,KAAI,aAAgBnC,QAAQ,IAE9BF,KAAKsC,SAAW,GAAIC,cAAavC,KAAKsC,WAGvCE,KAAM,WACL,MAAOvD,GAASe,KAAKyC,QAAQnB,IAAI,SAAUoB,GAC1C,MAAOA,GAAEF,MAAQ,IACfZ,OAGJe,KAAM,WACL,MAAO3C,MAAKyC,OAAO1B,QAKpB6B,aAAc,WACb,MAAO5C,MAAKyC,OAAOxB,OAAO,SAAU4B,GACnC,MAAOA,GAAMC,SAAW,KAM1BA,OAAQ,WACP,MAAO9C,MAAK4C,eAAe7B,QAG5BU,OAAQ,WACP,MAAOzB,MAAK8C,UAAY,GAGzBnB,MAAO,WACN,MAAO1C,GAASe,KAAKyC,QAAQnB,IAAI,SAAUuB,GAC1C,MAAOA,GAAMC,SAAWD,EAAME,UAAYF,EAAML,OAC9CZ,OAOJP,WAAY,SAAoBF,GAC/B,GAAID,IAAW,GAAI8B,GAAchD,KAAKW,IAOtC,OANIX,MAAKiD,WACHjD,KAAKkD,WACThC,EAAUA,EAAQiC,OAAOnD,KAAKoD,eAAejC,KAE9CD,EAAUA,EAAQiC,OAAOnD,KAAKqD,gBAAgBlC,KAExCD,GAGRoC,SAAU,WACT,GAAIC,KAAKC,EAAAA,EAQT,OAPAxD,MAAK4C,eAAepC,QAAQ,SAAUqC,GACrCA,EAAMY,WAAWjD,QAAQ,SAAUkD,IAC7BA,EAAUC,MAAQJ,IACtBA,GAAKG,EAAUC,WAIXJ,GAKRF,gBAAiB,SAAyBlC,GACzC,GAAIyC,GAAazC,EAAK0C,OAAO1C,EAAK2C,YAAYvD,MAC7CwD,EAAU/D,KACVsD,EAAWtD,KAAKsD,YAAc,EAC9BU,EAAIJ,EAAW3C,OAAO,SAAUgD,GAChC,MAAO9C,GAAK+C,QAAQC,SAASJ,EAASE,EAAQX,EAASnC,IAAOqC,EAAAA,IAC5DlC,IAAI,SAAU2C,GAChB,MAAO,IAAIG,GAAYL,EAAQpD,GAAIsD,EAAOtD,KAE3C,OAAOqD,IAKRZ,eAAgB,SAAwBjC,GACvC,GAAIV,GAAOT,IACX,OAAOf,GAASkC,EAAK+C,QAAQG,mBAAmB5D,IAAO6D,SAAS,SAAUC,EAAGC,GAC5E,GAAIC,GAAMF,EAAEG,MAAK,IACjB,OAAO,IAAIC,GAAWlE,EAAKE,KAAM8D,EAAI,IAAKA,EAAI,IAAKD,EAAI,KACrDI,WA6DJ5D,WAAY,WAIX,MAHAhB,MAAKiD,UAAW,EAChBjD,KAAKkD,UAAW,EAChBlD,KAAKa,UAAYb,KAAK8C,SAAW,EAC1B9C,KAAKa,WAKbgE,SAAU,SAAkB1D,GAC3B/B,GAASY,KAAKa,UAAW,QAASb,KAAKW,GAAI,oBAC3CvB,EAAQY,KAAKiD,SAAU,QAASjD,KAAKW,GAAI,uBACzCvB,EAAQY,KAAK8C,UAAY,EAAG,QAAS9C,KAAKW,GAAI,yBAE9CX,KAAKiD,UAAW,EAChB9B,EAAK2D,eAAiB9E,MAGvB+E,QAAS,SAAiB5D,GACzBnB,KAAKiD,UAAW,EAChBjD,KAAKa,WAAY,EACbM,EAAK2D,iBAAmB9E,OAC3BmB,EAAK2D,eAAiB,OAMxBE,KAAM,SAAc7D,EAAM8D,EAAaF,GACtC3F,GAASY,KAAKiD,SAAU,QAASjD,KAAKW,GAAI,mBAC1CX,KAAKsC,SAAW2C,EAChBjF,KAAKkD,UAAW,EACZ6B,GACH/E,KAAK+E,QAAQ5D,IAMf+D,OAAQ,SAAgB/D,EAAMgE,GAC7B,GACCtC,GAAOuC,EAAa1E,EADjB+B,EAASzC,KAAKyC,MAElB,KAAK/B,EAAI,EAAGyE,EAAa,GAAKzE,EAAI+B,EAAO1B,SACxC8B,EAAQJ,EAAO/B,GACf0E,EAAcvC,EAAMC,WAChBsC,EAAc,IACjBvC,EAAMwC,QAAUC,KAAKC,IAAIJ,EAAYC,GACrCD,GAAcC,EACVD,GAAc,KAN6BzE,KAYjD,MADAV,MAAKa,UAAYb,KAAKa,YAAcb,KAAKyB,SAClCzB,KAAKa,WAKb2E,UAAW,SAAmBrE,KAM9BU,qBACCC,WAAY,SAAwBzC,GACnC,GAAIS,IACHwC,UAAWjD,EAAIiD,SAAS,GAAIjD,EAAIiD,SAAS,IACzCG,OAAQpD,EAAIoD,OAOb,QALA,WAAa,WAAY,aAAajC,QAAQ,SAAU+D,GACnDlF,EAAIoG,eAAelB,KACtBzE,EAAKyE,GAAKlF,EAAIkF,OAGRzE,OAUP4F,EAAQpG,EAAQoG,MAAQ1G,GAG3B+D,UAAW,EACXU,cAEA5D,YAAa,SAAewF,GAC3BrF,KAAKqF,OAAiB,EAARA,GAGfvC,OAAQ,WACP,MAAO9C,MAAK+C,UAAY/C,KAAKqF,QAK9BM,SAAU,SAAkBhC,GAE3B,MADAA,GAAQA,GAAS,EACVF,WAAWxC,OAAO,SAAU2E,GAClC,MAAOA,GAAGjC,OAASA,KAMrBkC,MAAO,WACN,MAAOpC,YAAWxC,OAAO,SAAU2E,GAClC,MAAOA,GAAGjC,MAAQ,KAMpB9B,qBACCC,WAAY,SAAyBzC,GACpC,OAAQA,EAAIgG,YCpXXS,EAAaxG,EAAQwG,WAAa9G,GAGrC+G,WAAY,SAAoB5E,GAC/B,MAAO,OAGR6E,QAAStH,EAAKuH,QAAQC,cAAa,aAAe,uBAElDC,SAAU,SAAkBhF,EAAMR,GACjCA,EAAKA,GAAMX,KAAKoG,MAEhB,KAAK,GADD3F,GAAO,KACFC,EAAI,GAAID,GAAQC,EAAIS,EAAKkF,QAAQtF,OAAQL,IAEjD,IAAK,GADDH,GAAQY,EAAK0C,OAAO1C,EAAKkF,QAAQ3F,IAAIH,MAChC+F,EAAI,EAAGA,EAAI/F,EAAMQ,OAAQuF,IACjC,GAAI/F,EAAM+F,GAAG3F,IAAMA,EAAI,CACtBF,EAAOF,EAAM+F,EACb,OAKH,MADAlH,IAASqB,EAAM,QAASE,EAAI,mBACrBF,GAKRkB,MAAO,WACN,MAAO,MAMLJ,EAAiBjC,EAAQiC,eAAiBvC,EAAQ8G,GACrDjG,YAAa,SAAwBuG,GACpCpG,KAAKoG,OAASA,GAGfJ,QAAS,SAAiB7E,GACzBnB,KAAKmG,SAAShF,GAAM0D,SAAS1D,IAG9BU,qBACC0E,WAAY,iBACZzE,WAAY,SAAkCzC,GAC7C,OAAQA,EAAI+G,YAOXpD,EAAgB1D,EAAQ0D,cAAgBhE,EAAQ8G,GACnDjG,YAAa,SAAuBuG,GACnCpG,KAAKoG,OAASA,GAGfJ,QAAS,SAAiB7E,GACzBnB,KAAKmG,SAAShF,GAAM4D,QAAQ5D,IAG7BU,qBACC0E,WAAY,gBACZzE,WAAY,SAAkCzC,GAC7C,OAAQA,EAAI+G,YAOXzB,EAAarF,EAAQqF,WAAa3F,EAAQ8G,GAC7CjG,YAAa,SAAoBuG,EAAQ9D,EAAUkE,GAClDxG,KAAKoG,OAASA,EACdpG,KAAKsC,SAAWA,EAChBtC,KAAKwG,IAAMA,GAKZR,QAAS,SAAiB7E,GAEzBnB,KAAKmG,SAAShF,GAAM6D,KAAK7D,EAAMnB,KAAKsC,SAAUtC,KAAKwG,MAGpD3E,qBACC0E,WAAY,aACZzE,WAAY,SAA8BzC,GACzC,OAAQA,EAAI+G,OAAQK,MAAMC,MAAMD,MAAOpH,EAAIiD,UAAWjD,EAAImH,SAOzDpC,EAAc9E,EAAQ8E,YAAcpF,EAAQ8G,GAC/CjG,YAAa,SAAqBuG,EAAQO,GACzC3G,KAAKoG,OAASA,EACdpG,KAAK2G,SAAWA,GAGjBZ,WAAY,SAAoB5E,GAC/B,GAAI4C,GAAU/D,KAAKmG,SAAShF,GAC3B8C,EAASjE,KAAKmG,SAAShF,EAAMnB,KAAK2G,UAClCC,EAAWzF,EAAK+C,QAAQC,SAASJ,EAASE,GAC1C4C,EAAc,CACf9C,GAAQtB,OAAOjC,QAAQ,SAAUqC,GAChCA,EAAMY,WAAWjD,QAAQ,SAAUkD,GAC9BA,EAAUC,OAASiD,IACtBC,GAAenD,EAAUoD,YAI5B,IAAIC,GAAW,GAAIC,GAAcjD,EAAQ7B,QAAS+B,EAAO9B,QAAS0E,EAClE,QAASxB,OAAQ0B,IAGlBf,QAAS,SAAiB7E,EAAM8F,GAC/B,GAAI5B,GAAS4B,EAAK5B,OACjB6B,EAAalH,KAAKmG,SAAShF,EAAMnB,KAAK2G,SACvC,IAAItB,EAAS,EAAG,CACf,GAAI8B,GAAcD,EAAWvF,OAC7BuF,GAAWhC,OAAO/D,EAAMkE,GAExBrF,KAAK2B,MAAQwF,EAAcD,EAAWvF,QAEvC3B,KAAKmG,SAAShF,EAAMnB,KAAKoG,QAAQrB,QAAQ5D,IAK1CU,qBACC0E,WAAY,cACZzE,WAAY,SAA+BzC,GAC1C,OAAQA,EAAI+G,OAAQ/G,EAAIsH,cAOvBS,EAAgB9H,EAAQ8H,cAAgBpI,EAAQ8G,GACnDjG,YAAa,SAAuBuG,EAAQO,GAC3C3G,KAAKoG,OAASA,EACdpG,KAAK2G,SAAWA,GAGjBZ,WAAY,SAAoB5E,GAC/B,MAAO,OAIR6E,QAAS,SAAiB7E,EAAM8F,GAC/B,GAAII,GAAgB,EAChBhC,EAAS4B,EAAK5B,OACd6B,EAAalH,KAAKmG,SAAShF,EAAMnB,KAAK2G,SACtCtB,GAAS,GACZ6B,EAAWhC,OAAO/D,EAAMkE,EAEzB,IAAI5E,GAAOT,KAAKmG,SAAShF,EAAMnB,KAAKoG,OACpC3F,GAAK6G,QAAQnG,GAEbnB,KAAK2B,MAAQ,CACb,IAAI4F,GAAaL,EAAW1E,MACxB0E,GAAWzF,OAAON,KACrBnB,KAAK2B,OAAS4F,GAEfvH,KAAK2B,OAAS4F,EAAWlC,EAAO6B,EAAWvE,OACvClC,EAAKgB,OAAON,KACfnB,KAAK2B,OAASlB,EAAK+B,QAEpBxC,KAAK2B,OAASlB,EAAK+B,OAAO6E,EAAc5G,EAAKkC,QAM9Cd,qBACC0E,WAAY,gBACZzE,WAAY,SAAiCzC,GAC5C,OAAQ+G,OAAQO,cAQfa,EAAe9I,EAAK+I,KAAKD,aAEzBE,EAAQpI,EAAQoI,MAAQ,SAAeC,EAAGC,GAC1C,MAAOA,IAAK,GAAK,GAAK1I,EAASyE,MAAMiE,EAAI,GAAGtG,IAAI,SAAUZ,GACtD,MAAO4E,MAAKuC,IAAIF,EAAGjH,GAAK4E,KAAKuC,IAAI,EAAIF,EAAGC,EAAIlH,GAAK8G,EAAaI,EAAGlH,KAClEkE,WAGHkD,EAAUxI,EAAQwI,QAAU,SAAiBH,EAAGI,GAChD,GAAIxE,GAAIrE,EAAS8I,OAAO,EAAGD,EAAGhH,QAAQ6D,SAUtC,OATAmD,GAAGvH,QAAQ,SAAUyH,EAAIL,GACX,IAANA,EACArE,EAAE,IAAM0E,EAERP,EAAMC,EAAGC,GAAGpH,QAAQ,SAAU0H,EAAIxH,GAC9B6C,EAAE7C,IAAMuH,EAAKC,MAIlB3E,GAePyD,GAZW1H,EAAQ6I,SAAW,SAAkBC,EAAKC,GACxD,GAAIC,GAAOF,EAAIrH,OACdwH,EAAOF,EAAItH,MACZ,OAAO7B,GAASyE,MAAM2E,EAAOC,EAAO,GAAGjH,IAAI,SAAUZ,GACpD,MAAOxB,GAASyE,MAAMjD,EAAI,GAAGO,OAAO,SAAUqF,GAC7C,MAAOA,GAAIgC,GAAS5H,EAAI4F,EAAKiC,GAC3B,SAAUjC,GACZ,MAAO8B,GAAI9B,GAAK+B,EAAI3H,EAAI4F,KACtB1E,QACDgD,WAGgBtF,EAAQ0H,cAAgBhI,EAAQJ,EAAQmH,WAAWyC,UACtE3I,YAAa,SAAuB4I,EAAgBC,EAAe7B,GAClE7G,KAAKyI,eAAiC,EAAhBA,EACtBzI,KAAK0I,cAA+B,EAAfA,EACrB1I,KAAK6G,YAA2B,EAAbA,EACnB7G,KAAK2I,YAAcrD,KAAKsD,IAAI,EAAGtD,KAAKC,IAAI,GAAI,EAAIkD,EAAiB,GAAK,IACtEzI,KAAK6I,aAAevD,KAAKsD,IAAI,EAAGtD,KAAKC,IAAI,GAAI,EAAImD,EAAgB,GAAK,GACtE,IAAII,GAAKhB,EAAQ9H,KAAK6I,aAAcnB,EAAM1H,KAAK2I,YAAa9B,GAC5D7G,MAAK+I,iBAAmB9J,EAAS6J,GAAIxH,IAAI,SAAUqG,EAAGnD,GACrD,OAAQA,EAAGmD,KACT/C,WAGJoE,aAAc,WACb,MAAO/J,GAASe,KAAK+I,mBAGtBE,MAAO,SAAeC,GACrB,OAAQA,GAAUxK,EAAKyK,WAAWC,SAASC,eAAerJ,KAAK+I,mBAGhElH,qBACC0E,WAAY,gBACZzE,WAAY,SAAiCzC,GAC5C,OAAQA,EAAIoJ,eAAgBpJ,EAAIqJ,cAAerJ,EAAIwH,kBCzPlDyC,EAAUhK,EAAQgK,QAAUtK,EAAQJ,EAAQ2K,MAC/CC,KAAM,UACNnD,SAAS,MAAQ,QACjBoD,OAAQ,GAMR5J,YAAa,SAAiB6J,GAC7B9K,EAAQ2K,KAAKI,KAAK3J,KAAM0J,EAAOE,cAAgB5J,KAAKqG,QAAQ,IAC5DlH,EAAWa,KAAM0J,GAGfG,OAAM,UAGNA,OAAM,WAINC,QAAO,SAAY1J,QAAQ,EAAMC,kBAGjCF,OAAM,UAAaC,QAAQ,EAAMF,QAAQ,IAGzC2J,OAAM,kBAAqB3J,QAAQ,IAEjCF,KAAK+J,MAAQ,EAChB/J,KAAKgK,YAELhK,KAAKiK,YAMPA,SAAU,WACT,GAAIL,GAAe5J,KAAK4J,cACxB,KAAK5J,KAAK6D,OAAO+F,GAAc/I,YAAa,CAC3C,GAAIH,IAAKV,KAAKqG,QAAQ6D,QAAQN,GAAgB,GAAK5J,KAAKqG,QAAQtF,MAChEf,MAAKmK,eAAiBnK,KAAKqG,QAAQ3F,IAC9BA,GACJV,KAAKgK,YAGP,MAAOhK,OAGRgK,UAAW,WACVhK,KAAK+J,OACL,IAAIlG,GAAS7D,KAAK6D,MAClB,KAAK,GAAI8D,KAAK9D,GACbA,EAAO8D,GAAG3G,YAEX,OAAOhB,OAaRoK,OAAQ,WACP,MAAOnL,GAASe,KAAK6D,QAAQS,SAAS,SAAUkF,EAAMzJ,GACrD,OAAQyJ,EAAMzJ,EAAK4B,WACjB0I,YAMJC,OAAQ,WACP,GAAIC,GAAUvK,KAAKqG,QAAQ,GAC1BmE,EAAUxK,KAAKqG,QAAQ,EACxB,IAAIrG,KAAK6D,OAAO0G,GAAS/I,aAAaxB,OACpCA,KAAK6D,OAAO2G,GAAShJ,aAAaxB,OAClCA,KAAK+J,OAAS/J,KAAKyJ,OAClB,CACF,GAAIW,GAASpK,KAAKoK,QAClB,OAAOpK,MAAKyK,cAAcL,EAAOG,GAAWH,EAAOI,GAAUD,GAE9D,MAAO,OAMRG,oBAAqB,WACpB1K,KAAKkE,QAAQyG,aAAa3K,OAK3BoB,WAAY,WACX,MAAOpB,MAAK8E,gBAKb8F,MAAO,WACN,IAAK5K,KAAKsK,SAAU,CACnBtK,KAAK0K,qBACL,IAAId,GAAe5J,KAAK4J,cACxB,OAAOvK,GAAIuK,EAAc5J,KAAK6D,OAAO+F,GAAc1I,QAAQlB,OAE5D,MAAO,OAMR6K,KAAM,SAAc3J,EAAS+F,EAAM6D,GAClC,GAAIlB,GAAe5J,KAAK4J,eACvBmB,EAAS7J,EAAQ0I,EAClBxK,IAAS2L,EAAQ,iBAAkBnB,EAAc,mBACjD,IAAI7D,GAAagF,EAAOhF,WAAW/F,KAEnC,IADAZ,GAAS2G,GAAckB,EAAM,oBAAqBA,GAC9ClB,IAAekB,EAClB,MAAO,IAAIrI,GAAQoM,WAAWhL,KAAMkB,EAAS6E,EAAY+E,EAEzD,IAAIG,GAAWH,EAAS9K,KAAOrB,EAAOuM,OAAOlL,KAE7C,OADA+K,GAAO/E,QAAQiF,EAAUhE,GAClBgE,EAAShB,YAMlBpI,qBACCC,WAAY,SAA2BzC,GACtC,GAAIS,IACF+D,OAAQxE,EAAIwE,OACZK,QAAS7E,EAAI6E,QACb6F,MAAO1K,EAAI0K,MACXN,OAAQpK,EAAIoK,OAKd,OAHIpK,GAAIyF,iBACPhF,EAAKgF,eAAiBzF,EAAIyF,iBAEnBhF,OChJPqL,EAAU7L,EAAQ6L,QAAUnM,GAC/BoM,eACEC,MAAOC,MAAO9I,KAAM8C,KAAKiG,QACzBF,MAAOC,GAAI,EAAG9I,KAAM,IACpB6I,MAAOC,GAAI,EAAG9I,KAAM8C,KAAKiG,QACzBF,GAAI,EAAGC,MAAO9I,KAAM,IACpB6I,GAAI,EAAGC,GAAI,EAAG9I,KAAM,IACpB6I,GAAI,EAAGC,MAAO9I,KAAM8C,KAAKiG,QACzBF,GAAI,EAAGC,GAAI,EAAG9I,KAAM,IACpB6I,GAAI,EAAGC,GAAI,EAAG9I,KAAM8C,KAAKiG,QAK3BC,UAEGC,UAAU,EAAMC,SAAS,IACzBD,UAAU,EAAOC,SAAS,IAG7BpK,KACC,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,oDACCA,IAAI,SAAUqK,GACf,MAAO,IAAIC,YAAWD,EAAKjH,MAAK,OAGjCmH,uBAEAhM,YAAa,SAAiBC,GAE7BE,KAAK8L,MAAQ9L,KAAKsB,IAAIP,OACtBf,KAAK+L,OAAS/L,KAAKsB,IAAI,GAAGP,QAG3B4J,aAAc,SAAsBqB,GACnChM,KAAK6L,oBAAsB7L,KAAKiM,gBAAgBD,IAGjDC,gBAAiB,SAAyBD,GACzC,GAAInI,GAASmI,EAAQnI,OACpByG,IACD,KAAK,GAAI4B,KAAQrI,GAChBA,EAAOqI,GAAM3L,MAAMC,QAAQ,SAAUC,GAC/BA,EAAKgB,WACD6I,EAAO7J,EAAK6B,UAAY7B,IAInC,OAAO6J,IAGR6B,OAAQ,SAAgB7J,GACvB,GAAI8J,GAAOpM,KAAKsB,IAAIgB,EAAS,KAAOtC,KAAKsB,IAAIgB,EAAS,IAAIA,EAAS,GACnE,OAAOtC,MAAKwL,QAAQY,IAGrBC,WAAY,SAAoB/J,EAAUgK,GACzC,GAAIF,GAAOpM,KAAKmM,OAAO7J,EACvB,UAAU8J,IAAQA,EAAKX,UACpBa,GAAetM,KAAK6L,oBAAoBpG,eAAenD,KAG3DiK,UAAW,SAAmBjK,EAAUgK,GACvC,GAAIF,GAAOpM,KAAKmM,OAAO7J,EACvB,UAAU8J,IAAQA,EAAKV,SACpBY,GAAetM,KAAK6L,oBAAoBpG,eAAenD,KAI3DsE,SAAU,SAAkB4F,EAAIvE,GAC/B,GAAIwE,GAAKD,EAAG,GAAKvE,EAAG,GACnByE,EAAKF,EAAG,GAAKvE,EAAG,EACjB,OAAO3C,MAAKqH,KAAKF,EAAKA,EAAKC,EAAKA,IAOjCrI,mBAAoB,SAA4B5D,EAAMkD,GACrDA,EAAQA,GAAS,EACjB,IAKWc,GAAKmI,EAAMpK,EAAMqK,EAAOC,EAL/BC,KACHC,GAAWvM,EAAK6B,UAGhB8I,GAFQpL,KAAK8L,MACJ9L,KAAK+L,OACC/L,KAAKoL,aAErB2B,GAAQtM,EAAK6B,UAAY,CAEzB,KAAK,GAAI5B,GAAI,EAAGA,EAAIsM,EAAQjM,OAAQL,IAAK,CACxC+D,EAAMuI,EAAQtM,GACd8B,EAAOuK,EAAQtI,EACf,KAAK,GAAI6B,GAAI,EAAGA,EAAI8E,EAAarK,OAAQuF,IACxCwG,EAAQ1B,EAAa9E,GACrBuG,EAAQrK,EAAOsK,EAAMtK,KACjBqK,EAAQlJ,IACZiJ,GAAQnI,EAAI,GAAKqI,EAAMzB,GAAI5G,EAAI,GAAKqI,EAAMxB,KACtCyB,EAAQtH,eAAemH,IAAU5M,KAAKqM,WAAWO,GAAM,KAC3DG,EAAQH,GAAQC,EAChBG,EAAQC,KAAKL,KAGf,MAAOG,IAKRG,iBAAkB,SAAmBC,EAAQC,EAAQ9J,GACpDA,EAAWA,GAAYE,EAAAA,CASvB,KARA,GAOC6J,GAPG/C,KACHe,EAAK/F,KAAKgI,IAAIF,EAAO,GAAKD,EAAO,IACjC7B,EAAKhG,KAAKgI,IAAIF,EAAO,GAAKD,EAAO,IACjCI,EAAMJ,EAAO,GAAKC,EAAO,GAAM,KAC/BI,EAAML,EAAO,GAAKC,EAAO,GAAM,KAC/BK,EAASN,EAAOO,QAChBC,EAAMtC,EAAKC,EAELhI,MACNgH,EAAO2C,KAAKQ,EAAOC,SACfD,EAAO,KAAOL,EAAO,IAAMK,EAAO,KAAOL,EAAO,KACpDC,EAAW,EAANM,EACDN,GAAM/B,IACTqC,GAAOrC,EACPmC,EAAO,IAAMF,GAEVF,EAAKhC,IACRsC,GAAOtC,EACPoC,EAAO,IAAMD,EAGf,OAAOlD,IAGRnG,SAAS,SAAkByJ,EAAa1G,GACvC,GAAI0G,EAAY7N,OAASmH,EAAWnH,KACnC,MAAOyD,GAAAA,CAER,IAAIoD,GAAW5G,KAAK4G,SAASgH,EAAYtL,SAAU4E,EAAW5E,SAC9D,IAAIsE,EAAWgH,EAAYtK,WAC1B,MAAOE,GAAAA,CAIP,KAAK,GADJiB,GADGoJ,EAAQ7N,KAAK8N,UAAUF,EAAYtL,SAAU4E,EAAW5E,SAAUsE,GAE7DlG,EAAI,EAAGA,EAAImN,EAAM9M,OAAQL,IAEjC,GADA+D,EAAMoJ,EAAMnN,IACPV,KAAKuM,UAAU9H,IAAQzE,KAAK6L,oBAAoBpH,IACnDzE,KAAK6L,oBAAoBpH,GAAK9D,KAAOiN,EAAYjN,IACjDX,KAAK6L,oBAAoBpH,GAAK9D,KAAOuG,EAAWvG,GACjD,MAAO6C,GAAAA,CAIT,OAAOoD,IAITmH,YAAa,SAAqBtN,EAAMwB,GACvCA,EAASA,GAAUuB,EAAAA,CACnB,IAAIiB,GAAMhE,EAAK6B,SACd4B,EAAUlE,KACVgO,IAWD,OAVA/O,GAASe,KAAKiO,iBAAiBC,aAAa,SAAUC,EAAGC,GAExD,IAAK,GADDxB,GACKlM,EAAI,EAAGA,EAAI0N,EAAKrN,QAAUL,GAAKuB,IACvC2K,EAAOwB,EAAK1N,GACZkM,GAAQnI,EAAI,GAAKmI,EAAK,GAAInI,EAAI,GAAKmI,EAAK,IACnC1I,EAAQqI,UAAUK,MACvBoB,EAAKpB,GAAQlM,GACTwD,EAAQ2H,oBAAoBe,IALelM,QAQ1CsN,GAKRnM,qBACCC,WAAY,SAA2BzC,GACtC,YAKH8L,GAAQ8C,gBAAkB9C,EAAQkD,UAAUJ,gBAAkB,SAAWhM,GAUxE,IAAK,GARJqI,IAAWrI,OAAQA,GAQXvB,GAAKuB,EAAQvB,GAAKuB,EAAQvB,IAClC4J,GAAQ5J,GAAIuB,IAAWkJ,EAAQ2C,WAAW,EAAG,IAAKpN,GAAIuB,IACtDqI,GAAQ5J,GAAIuB,IAAWkJ,EAAQ2C,WAAW,EAAG,IAAKpN,GAAIuB,IAClDvB,KAAOuB,GAAUvB,IAAMuB,IAC1BqI,IAASrI,EAAQvB,IAAMyK,EAAQ2C,WAAW,EAAG,KAAM7L,EAAQvB,IAC3D4J,IAASrI,EAAQvB,IAAMyK,EAAQ2C,WAAW,EAAG,KAAM7L,EAAQvB,IAG7D,OAAO4J,IACL,GAIgBhL,GAAQgP,aAAetP,GACzCuP,SAAU,IACVC,MAAO,IACPC,WAAY,EAEZ5O,YAAa,SAAsBsB,EAAMuN,GACxC1O,KAAK2O,KAAOxN,EAAK+C,QAAQ0K,cACzB5O,KAAK0O,KAAOA,GAGb5D,OAAQ,SAAgB3J,GACvB,GACCwN,GAAO3O,KAAK2O,IAEb3O,MAAK6O,gBAAgB1N,EACrB,KAAK,GAAIT,GAAI,EAAGA,EAAIV,KAAKyO,WAAY/N,IACpCiO,EAAK3O,KAAK8O,OAAOH,EAElB,OAAOA,IAGRE,gBAAiB,SAAyB1N,GACzC,GACC4N,GAEAC,EACAC,EAJGC,EAAOlP,KAEV2O,EAAO3O,KAAK2O,IAGb,KAAK,GAAI5O,KAAQoB,GAAK0C,OACrBkL,EAAOhP,IAASC,KAAK0O,KAAO,KAC5BvN,EAAK0C,OAAO9D,GAAMQ,MAAMC,QAAQ,SAAUC,GACpCA,EAAKgB,WACTuN,EAAyB,EAAlBvO,EAAK6B,SAAS,GACrB2M,EAAyB,EAAlBxO,EAAK6B,SAAS,GAChBqM,EAAKK,GAGCL,EAAKK,GAAMC,KACrBN,EAAKK,GAAMC,GAAO,IAHlBN,EAAKK,MACLL,EAAKK,GAAMC,GAAM,GAIlBN,EAAKK,GAAMC,GAAQC,EAAK1J,UAAU/E,GAAQsO,MAM9CvJ,UAAW,SAAmB/E,GAC7B,MAAOA,GAAKkB,SAIbwN,eAAgB,SAAwBR,EAAKpL,EAAE6L,EAAEC,GAChD,GAAI7K,GACH8K,EAAGC,EAASC,EAAOC,EAAbC,EAAI,CACX,KAAMJ,KAASA,EAAK,EAAGA,IACtB,IAAKC,KAASA,EAAK,EAAGA,KACT,IAAPD,GAAmB,IAAPC,IAAaZ,EAAKpL,EAAE+L,KAAQ9K,EAAImK,EAAKpL,EAAE+L,GAAIF,EAAEG,MAC7D/K,GAAK6K,EAAOC,EAAGA,EAAGC,EAAGA,GACrBC,EAAQE,EAAI,GAAKA,EAAKA,EACtBD,EAAQjL,EAAE,GAAOA,EAAKA,EAElBgL,EAASC,IACZC,EAAMlL,GAKV,OAAOkL,IAGRZ,OAAQ,SAAgBH,GASvB,IAAK,GAHJ1F,GACAyG,EALGlB,EAAQxO,KAAKwO,MAChBa,GAAUM,IAAKrK,KAAKsK,OAASpB,GAAQlJ,KAAKsK,KAAKtK,KAAKiG,MAAQiD,IAC5DD,EAAWvO,KAAKuO,SAChBsB,KAIQtM,EAAG,EAAGA,EAAGoL,EAAK5N,OAAQwC,IAC9B,IAAK,GAAI6L,GAAI,EAAGA,EAAIT,EAAKpL,GAAGxC,OAAOqO,IAClCnG,EAAM0F,EAAKpL,GAAG6L,GACTU,MAAM7G,IAKV4G,EAAQtM,GAAKsM,EAAQtM,GAASsM,EAAQtM,MACtCsM,EAAQtM,GAAG6L,GAAM,MALjBM,EAAM1P,KAAKmP,eAAeR,EAAKpL,EAAE6L,EAAEC,GACnCQ,EAAQtM,GAAKsM,EAAQtM,GAASsM,EAAQtM,MACtCsM,EAAQtM,GAAG6L,GAAMnG,GAAS,EAAIsF,GAAYmB,EAAMnB,EAQnD,OAAOsB,KC9VTvQ,GAAQyQ,MAGJC,SAAU,WACR,GAAI9L,GAAU,GAAIiH,GAChB8E,EAAOC,EAAWC,eAClBhP,EAAO,GAAImI,IACTpF,QAASA,EACTL,QACEuM,IAAK,GAAIF,GAAWC,gBAAiBvP,OAAQ,MAE3CL,QAAS,EAAE,KAAKe,IAAI,SAAUgB,GAC5B,MAAO,IAAI2N,GAAKI,MAAMC,qBAAsBhO,SAAUA,QAG1DiO,KAAM,GAAIL,GAAWC,gBAAiBvP,OAAQ,OAC5CL,QAAS,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,IAAIe,IAAI,SAAUgB,GACpD,MAAO,IAAI2N,GAAKI,MAAMC,qBAAsBhO,SAAUA,UAK1D,OAAOnB,IAGfqP,SAAU,WAKL,GAAItM,GAAU,GAAIiH,GACxB8E,EAAOC,EAAWC,eAClBhP,EAAO,GAAImI,IACVpF,QAASA,EACTL,QACCuM,IAAK,GAAIF,GAAWC,gBAAiBvP,OAAQ,MACtCL,QAAS,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,IAAIe,IAAI,SAAUgB,GACvD,MAAO,IAAI2N,GAAKI,MAAMC,qBAAsBhO,SAAUA,QAGxDiO,KAAM,GAAIL,GAAWC,gBAAiBvP,OAAQ,OAC7CL,QAAS,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,IAAIe,IAAI,SAAUgB,GACrD,MAAO,IAAI2N,GAAKI,MAAMC,qBAAsBhO,SAAUA,UAKpD,OAAOnB,IAGdsP,WAAY,WACZ,GAAIvM,GAAU,GAAIiH,KACZuF,KAAMzI,GAAG0I,MAAMC,OAAQ3O,OAAQ,EAAG4O,EAAE,GAAIC,EAAE,KAC1CJ,KAAMzI,GAAG0I,MAAMC,OAAQ3O,OAAQ,EAAG4O,EAAE,GAAIC,EAAE,KAC1CJ,KAAMzI,GAAG0I,MAAMC,OAAQ3O,OAAQ,EAAG4O,EAAE,GAAIC,EAAE,KAC1CJ,KAAMzI,GAAG0I,MAAMC,OAAQ3O,OAAQ,EAAG4O,EAAE,GAAIC,EAAE,IAC1CJ,KAAMzI,GAAG0I,MAAMC,OAAQ3O,OAAQ,EAAG4O,EAAE,GAAIC,EAAE,IAC1CJ,KAAMzI,GAAG0I,MAAMC,OAAQ3O,OAAQ,EAAG4O,EAAE,GAAIC,EAAE,IAC1CJ,KAAMzI,GAAG0I,MAAMC,OAAQ3O,OAAQ,EAAG4O,EAAE,GAAIC,EAAE,KAE9Cb,EAAOC,EAAWC,eAClBhP,EAAO,GAAImI,IACTpF,QAASA,EACTL,QACEuM,IAAK,GAAIF,GAAWC,gBAAiBvP,OAAQ,MAC3CL,QAAS,EAAE,IAAIe,IAAI,SAAUgB,GAC3B,MAAO,IAAI2N,GAAKI,MAAMC,qBAAsBhO,SAAUA,QAG1DiO,KAAM,GAAIL,GAAWC,gBAAiBvP,OAAQ,OAC5CL,QAAS,EAAE,IAAIe,IAAI,SAAUgB,GAC3B,MAAO,IAAI2N,GAAKI,MAAMC,qBAAsBhO,SAAUA,UAK3D,OAAOnB,IAEd4P,WAAY,WACZ,GAAI7M,GAAU,GAAIiH,KACZuF,KAAMzI,GAAG0I,MAAMC,OAAQ3O,OAAQ,EAAG4O,EAAE,GAAIC,EAAE,KAC1CJ,KAAMzI,GAAG0I,MAAMC,OAAQ3O,OAAQ,EAAG4O,EAAE,GAAIC,EAAE,KAC1CJ,KAAMzI,GAAG0I,MAAMC,OAAQ3O,OAAQ,EAAG4O,EAAE,GAAIC,EAAE,KAC1CJ,KAAMzI,GAAG0I,MAAMC,OAAQ3O,OAAQ,EAAG4O,EAAE,GAAIC,EAAE,IAC1CJ,KAAMzI,GAAG0I,MAAMC,OAAQ3O,OAAQ,EAAG4O,EAAE,GAAIC,EAAE,IAC1CJ,KAAMzI,GAAG0I,MAAMC,OAAQ3O,OAAQ,EAAG4O,EAAE,GAAIC,EAAE,IAC1CJ,KAAMzI,GAAG0I,MAAMC,OAAQ3O,OAAQ,EAAG4O,EAAE,GAAIC,EAAE,KAE9Cb,EAAOC,EAAWC,eAClBhP,EAAO,GAAImI,IACTpF,QAASA,EACTL,QACEuM,IAAK,GAAIF,GAAWC,gBAAiBvP,OAAQ,MAC3CL,QAAS,EAAE,IAAIe,IAAI,SAAUgB,GAC3B,MAAO,IAAI2N,GAAKI,MAAMC,qBAAsBhO,SAAUA,QAG1DiO,KAAM,GAAIL,GAAWC,gBAAiBvP,OAAQ,OAC5CL,OAAQ,GAAI0P,GAAKI,MAAMC,qBAAsBhO,UAAW,EAAE,GAAIG,QAAS,GAAIwN,GAAKe,OAAOC,cAAc,GACjG,GAAIhB,GAAKe,OAAOC,cAAgB,GAAIhB,GAAKe,OAAOC,cAChD,GAAIhB,GAAKe,OAAOC,cAAgB,GAAIhB,GAAKe,OAAOC,sBAIvD,OAAO9P,IAGZ+P,WAAY,WACV,GAAIhN,GAAU,GAAIiH,KACduF,KAAMzI,GAAG0I,MAAMC,OAAQ3O,OAAQ,EAAG4O,EAAE,GAAIC,EAAE,KAC1CJ,KAAMzI,GAAG0I,MAAMC,OAAQ3O,OAAQ,EAAG4O,EAAE,GAAIC,EAAE,KAC1CJ,KAAMzI,GAAG0I,MAAMC,OAAQ3O,OAAQ,EAAG4O,EAAE,GAAIC,EAAE,KAC1CJ,KAAMzI,GAAG0I,MAAMC,OAAQ3O,OAAQ,EAAG4O,EAAE,GAAIC,EAAE,IAC1CJ,KAAMzI,GAAG0I,MAAMC,OAAQ3O,OAAQ,EAAG4O,EAAE,GAAIC,EAAE,IAC1CJ,KAAMzI,GAAG0I,MAAMC,OAAQ3O,OAAQ,EAAG4O,EAAE,GAAIC,EAAE,IAC1CJ,KAAMzI,GAAG0I,MAAMC,OAAQ3O,OAAQ,EAAG4O,EAAE,GAAIC,EAAE,KAE9Cb,EAAOC,EAAWC,eAClBhP,EAAO,GAAImI,IACTpF,QAASA,EACTL,QACEuM,IAAK,GAAIF,GAAWC,gBAAiBvP,OAAQ,MAC3CL,QAAS,EAAE,IAAIe,IAAI,SAAUgB,GAC3B,MAAO,IAAI2N,GAAKI,MAAMC,qBAAsBhO,SAAUA,QAG1DiO,KAAM,GAAIL,GAAWC,gBAAiBvP,OAAQ,OAC5CL,OAAQ,GAAI0P,GAAKI,MAAMC,qBAAqBhO,UAAW,EAAE,KACzD,GAAI2N,GAAKI,MAAMc,sBAAsB7O,UAAW,EAAE,UAIrD,OAAOnB,IAEZiQ,WAAY,WACZ,GAAIlN,GAAU,GAAIiH,KACZuF,KAAMzI,GAAG0I,MAAMC,OAAQ3O,OAAQ,EAAG4O,EAAE,GAAIC,EAAE,KAC1CJ,KAAMzI,GAAG0I,MAAMC,OAAQ3O,OAAQ,EAAG4O,EAAE,GAAIC,EAAE,KAC1CJ,KAAMzI,GAAG0I,MAAMC,OAAQ3O,OAAQ,EAAG4O,EAAE,GAAIC,EAAE,KAC1CJ,KAAMzI,GAAG0I,MAAMC,OAAQ3O,OAAQ,EAAG4O,EAAE,GAAIC,EAAE,IAC1CJ,KAAMzI,GAAG0I,MAAMC,OAAQ3O,OAAQ,EAAG4O,EAAE,GAAIC,EAAE,IAC1CJ,KAAMzI,GAAG0I,MAAMC,OAAQ3O,OAAQ,EAAG4O,EAAE,GAAIC,EAAE,IAC1CJ,KAAMzI,GAAG0I,MAAMC,OAAQ3O,OAAQ,EAAG4O,EAAE,GAAIC,EAAE,KAE9Cb,EAAOC,EAAWC,eAClBhP,EAAO,GAAImI,IACTpF,QAASA,EACTL,QACEuM,IAAK,GAAIF,GAAWC,gBAAiBvP,OAAQ,MAC3CL,QAAS,EAAE,IAAIe,IAAI,SAAUgB,GAC3B,MAAO,IAAI2N,GAAKI,MAAMC,qBAAsBhO,SAAUA,QAG1DiO,KAAM,GAAIL,GAAWC,gBAAiBvP,OAAQ,OAC5CL,QAAS,EAAE,KAAKe,IAAI,SAAUgB,GAC5B,MAAO,IAAI2N,GAAKI,MAAMC,qBAAsBhO,SAAUA,UAK3D,OAAOnB,IAGXkQ,WAAY,WACX,GAAIC,GAAe1S,EAAQyH,QAAQiL,aAClCjL,GAAW,GAAIiL,GAAgB,GAAIA,GACpCC,QAAOC,MAAQ,GAAI5S,GAAQ6S,MAAMzR,KAAKwQ,WAAYnK,GAClDmL,MAAME,OAAOC,GAAE,QAAU,SAAUxQ,EAAMqQ,GACxCD,OAAOK,SAASC,OAAO1Q,KAExBqQ,MAAME,OAAOC,GAAE,OAAS,SAAUxQ,EAAMyJ,EAAO4G,GAC9CM,QAAQC,IAAIpT,EAAOqT,IAAIpH,MAExB4G,MAAME,OAAOC,GAAE,OAAS,SAAUxQ,EAAM0J,EAAM2G,GACzC3G,YAAgBvB,IACnBiI,OAAOK,SAASC,OAAOhH,KAGzB2G,MAAMhL,MAAMyL,KAAK,SAAUvP,GAC1BoP,QAAQC,IAAIrP,EAAE4H,aAIhB4H,qBAAsB,WACrB,GAAI7L,IACF,GAAIzH,GAAQyH,QAAQ8L,kBAAmBC,gBAAiB,EAAGC,QAAS,MAEpE,GAAIzT,GAAQyH,QAAQiL,cAErBnQ,EAAO,GAAImR,GAAkBtS,KAAKwQ,WACnCe,QAAOC,MAAQ,GAAI5S,GAAQ6S,MAAMtQ,EAAMkF,GACvCmL,MAAME,OAAOC,GAAE,QAAU,SAAUxQ,EAAMqQ,GACrC,GAAItN,GAAU/C,EAAKoR,aAAarO,OAC5BA,GAAQsO,aAAarR,EAAKoR,aAAarO,EAAQA,SAC/CqN,OAAOK,SAASa,WAAWvO,EAAQA,WAG3CsN,MAAME,OAAOC,GAAE,OAAS,SAAUxQ,EAAMyJ,EAAO4G,GAC9CM,QAAQC,IAAIpT,EAAOqT,IAAIpH,MAExB4G,MAAME,OAAOC,GAAE,OAAS,SAAUxQ,EAAM0J,EAAM2G,GAC7C,GAAItN,GAAU2G,EAAK0H,aAAarO,OACzBA,GAAQsO,aAAa3H,EAAK0H,aAAarO,EAAQA,SAC/CqN,OAAOK,SAASa,WAAWvO,EAAQA,WAE3CsN,MAAMhL,MAAMyL,KAAK,SAAUvP,GAC1BoP,QAAQC,IAAIrP,EAAE4H,aAIfoI,6BAA8B,WAC9B,GAAIrM,IACF,GAAIzH,GAAQyH,QAAQ8L,kBAAmBC,gBAAiB,EAAGC,QAAS,MAEpE,GAAIzT,GAAQyH,QAAQiL,cAErBnQ,EAAO,GAAImR,GAAkBtS,KAAKwQ,WACjCe,QAAOC,MAAQ,GAAI5S,GAAQ6S,MAAMtQ,EAAMkF,GAYzCmL,MAAME,OAAOC,GAAE,OAAS,SAAUxQ,EAAMyJ,EAAO4G,GAC9CM,QAAQC,IAAIpT,EAAOqT,IAAIpH,MAYxB4G,MAAMhL,MAAMyL,KAAK,SAAUvP,GAEvBoP,QAAQC,IAAIrP,EAAE4H,UACdqI,MAAMjQ,EAAE4H,aAKbsI,SAAU,SAAkBrI,EAASC,GACpC,GAAI8G,GAAe1S,EAAQyH,QAAQiL,aAClCjL,GACCkE,GAAW,GAAI+G,GACf9G,GAAW,GAAI8G,GAEjBC,QAAOC,MAAQ,GAAI5S,GAAQ6S,MAAMzR,KAAKwQ,WAAYnK,GAClDmL,MAAME,OAAOC,GAAE,QAAU,SAAUxQ,EAAMqQ,GACxCD,OAAOK,SAASC,OAAO1Q,KAMxBqQ,MAAME,OAAOC,GAAE,OAAS,SAAUxQ,EAAMyJ,EAAO4G,GAC9CM,QAAQC,IAAIpT,EAAOqT,IAAIpH,IACvB2G,OAAOK,SAASiB,YAAY1R,KAG7BqQ,MAAME,OAAOC,GAAE,OAAS,SAAUxQ,EAAM0J,EAAM2G,GACzC3G,YAAgBvB,IACnBiI,OAAOK,SAASC,OAAOhH,KAIzB2G,MAAMhL,MAAMyL,KAAK,SAAUvP,GAC1BoP,QAAQC,IAAIrP,EAAE4H,aCjRjB,IAAI4F,GAAa5Q,EAAQ4Q,WAAa,WACrC,GAAIA,MAKA4C,GACFC,YAAcpP,MAAO,EAAGmD,QAAS,GACjCkM,QAAUrP,MAAO,EAAGmD,QAAS,GAC7BmM,QAAUtP,MAAO,GAAImD,QAAS,GAC9BoM,cAAgBvP,MAAO,GAAImD,QAAS,GACpCqM,mBAAqBxP,MAAO,GAAImD,QAAS,EAAGsM,GAAI,IAEjDpC,GACCC,cAAejS,EAAQ0G,GACtBlD,KAAM,GACNiB,YAAaqP,EAAWI,aAAcJ,EAAWC,YACjDlT,YAAa,SAAuBwF,GACnCK,EAAMiE,KAAK3J,KAAMqF,MAGnBgO,eAAgBrU,EAAQ0G,GACvBlD,KAAM,GACNiB,YAAaqP,EAAWG,OAAQH,EAAWE,UAE5CM,eAAgBtU,EAAQ0G,GACvBlD,KAAM,GACNiB,YAAaqP,EAAWK,kBAAmBL,EAAWC,YACtDlT,YAAa,SAAwBwF,GACpCK,EAAMiE,KAAK3J,KAAMqF,OAIpBgL,GACCC,oBAAqBtR,EAAQgD,GAC5BE,QAAS,EACTC,QAAS,EACToR,UAAU,EACV1T,YAAa,SAA6BuC,GACzCA,EAAQA,MACHA,EAAMK,SACVL,EAAMK,OAASvD,EAASyE,MAAM,GAAGrC,IAAI,WACpC,MAAO,IAAI0P,GAAOC,gBAChBrM,WAEJ5C,EAAK2H,KAAK3J,KAAMoC,MAGlBoR,qBAAsBxU,EAAQgD,GAC7BE,QAAS,EACTC,QAAS,EACTM,OAAQvD,EAAS8I,OAAOgJ,EAAOqC,eAAgB,GAAGzO,UAClD2O,UAAU,IAEXpC,qBAAsBnS,EAAQgD,GAC7BE,QAAS,EACTC,QAAS,EACToR,UAAU,EACV1T,YAAa,SAA8BuC,GAC1CA,EAAQA,MACHA,EAAMK,SACVL,EAAMK,OAASvD,EAASyE,MAAM,GAAGrC,IAAI,WACpC,MAAO,IAAI0P,GAAOsC,iBAChB1O,WAEJ5C,EAAK2H,KAAK3J,KAAMoC,MAKC8N,GAAWC,eAAiBnR,EAAQY,GACxD6T,QAAS,iBACTC,gBAAiB1C,EACjB2C,eAAgBtD,EAEhBxQ,YAAa,SAAwBC,GACpCF,EAAK+J,KAAK3J,KAAMF,KAKlB,OAAOoQ,KN/EqB5Q,GAAQsU,uBAAyB5U,EAAQJ,EAAQiV,QAG7EhU,YAAa,SAAgC6J,GAC5C9K,EAAQiV,OAAOlK,KAAK3J,KAAM0J,GAC1BvK,EAAWa,KAAM0J,GAChBpJ,MAAK,SAAYD,kBAClBL,KAAK8T,sBACH9T,KAAK+T,oBACL/T,KAAKgU,MAAQhU,KAAKiU,YAMrBA,SAAU,WACT,GAAIC,GAAOlU,IACX,OAAOmU,QAAOC,KAAKD,OAAOE,eAAerU,OAAOsB,IAAI,SAAUX,GAC7D,MAAOuT,GAAKvT,KACVM,OAAO,SAAUqT,GACnB,MAAyB,kBAAXA,IAAyBA,EAAO9K,MAAqC,SAA7B8K,EAAO9K,KAAK+K,OAAO,EAAG,MAM9EC,UAAW,WACVxU,KAAKgU,MAAMS,KAAK,SAAUC,EAAIC,GAC7B,MAAOA,GAAG,GAAG7V,SAAW4V,EAAG,GAAG5V,UAAY6V,EAAG,GAAKD,EAAG,MAOvDE,SAAU,SAAkBzT,EAAMP,GACjC,GAAIiU,GAAM3T,EACV8L,EAAUhN,KAAK8T,mBACfgB,EAAe9U,KAAK+T,gBAEpB,IADA/T,KAAK+U,cAAc5T,EAAMP,GACrBoM,EAAQjM,OAAS,EACpB,IAAK,GAAIL,GAAI,EAAGI,EAAMd,KAAKgU,MAAMjT,OAAQL,EAAII,EAAKJ,IAIjD,GAHAmU,EAAO7U,KAAKgU,MAAMtT,GAEdQ,EAAU2T,EAAKlL,KAAK3J,KAAMmB,EAAMP,GACvB,CACZM,EAAQV,QAAQ,SAAUuK,GACzBA,EAAOiK,SAAWH,IAEnB7H,EAAQC,KAAKvG,MAAMsG,EAAS9L,GAC5B4T,EAAa7H,KAAKvG,MAAMoO,EAAc5T,EACtC,OAKH,MADA9B,GAAQ4N,EAAQjM,OAAS,EAAG,4BACrBiM,EAAQiI,SAMhBF,cAAe,SAAuB5T,EAAMP,GAC3C,GAAKZ,KAAKkV,eAGH,GAAIlV,KAAKkV,cAAcnL,MAAQ5I,EAAK4I,MAAO,CACjD,GAAIoL,GAAOnV,KAAKoV,UAAUjU,GAAQnB,KAAKoV,UAAUpV,KAAKkV,cACtDlV,MAAK+T,iBAAiBvT,QAAQ,SAAUuK,GACvCA,EAAOiK,SAAS,IAAMjK,EAAOpJ,QAAUwT,IAExCnV,KAAKkV,cAAgB/T,EACrBnB,KAAK+T,oBACL/T,KAAKwU,iBATLxU,MAAKkV,cAAgB/T,EACrBnB,KAAK+T,qBAePqB,UAAW,SAAmBjU,EAAMP,GACnC,GAAIe,GAAQ,EACRa,EAAO,EACP6S,EAAa,EAEbC,EAAiBtV,KAAKsV,eAAenU,EAAKP,GAC1C2U,EAAcD,EAAe,GAC7B1R,EAAa0R,EAAe,EAChC1R,GAAWpD,QAAQ,SAAUgV,GAC5BhT,EAAOgT,EAAMhT,OACTgT,EAAM/T,WACTE,GAASa,GAEV6S,EAAaG,EAAM7S,OAAS6S,EAAM5S,eAClCjB,GAASa,EAAK6S,EAAWG,EAAM7S,SAEhC4S,EAAY/U,QAAQ,SAAUiV,GAC7BjT,EAAOiT,EAAMjT,OACTiT,EAAMhU,WACTE,GAASa,GAEV6S,EAAaI,EAAM9S,OAAS8S,EAAM7S,eAClCjB,GAASa,EAAK6S,EAAWI,EAAM9S,UAIjCd,qBACC0E,WAAY,yBACZzE,WAAY,SAA0CzC,GACrD,MAAOW,MAAK0V,sBAAsBrW,GAAK,OAAS,YAOlDsW,MAAO,SAAeF,EAAMD,GAC3B,OAAQ,GAAIjU,GAAekU,EAAM9U,IAAI,GAAIyD,GAAYqR,EAAM9U,GAAG6U,EAAM7U,MAGrEiV,QAAS,SAAiBH,EAAMD,GAC/B,OAAQ,GAAIjU,GAAekU,EAAM9U,IAAI,GAAIyG,GAAcqO,EAAM9U,GAAG6U,EAAM7U,MAGvEqE,KAAM,SAAcyQ,EAAMI,GACzB,OAAQ,GAAItU,GAAekU,EAAM9U,IAAIkV,IAsDrCC,mBAAoB,QAASA,GAAmB3U,EAAKsU,EAAM7U,GAC1D,GAAIkV,MACCC,EAAmB/V,KAAK+V,iBAAiB5U,EAAMP,EAMnD,OALAmV,GAAiBvV,QAAQ,SAAUwV,GAC9BhW,KAAKiW,QAAQ9U,EAAK6U,EAAUP,IAC7BK,EAAmB7I,KAAK+I,KAGrBF,GAITI,eAAgB,QAASA,GAAe/U,EAAKV,EAAKG,GAChD,GAAIsV,MACAH,EAAmB/V,KAAK+V,iBAAiB5U,EAAMP,EASnD,OARAmV,GAAiBvV,QAAQ,SAAUwV,GACjC,GAAIA,EAAUnV,UAAS,CACrB,GAAI8C,GAAQqS,EAAUvT,OAAO,GAAGgB,WAAW,GAAGE,OAC1CxC,EAAK+C,QAAQC,SAAS6R,EAAUvV,EAAKkD,IAAUxC,EAAK+C,QAAQiS,OAAOH,EAAUvV,IAAO,KACtFyV,EAAejJ,KAAK+I,MAInBE,GAITD,QAAS,SAAiB9U,EAAKiV,EAASnS,GACtC,QAAKmS,EAAS3U,WAAY2U,EAASvV,WAAcoD,EAAOxC,WAClD4U,gBAAgBlV,EAAKiV,EAASnS,KAAWqS,kBAAkBnV,EAAKiV,EAASnS,KAQjFoS,gBAAiB,SAAyBlV,EAAK4C,EAAQE,GACrD,QAAKF,EAAQtC,UAAawC,EAAOxC,WAAYsC,EAAQlD,aAAa0V,yBAAyBpV,EAAK4C,EAAQE,IAAS,OAOnHqS,kBAAmB,SAA2BnV,EAAKqV,EAAUvS,GAC3D,QAAKuS,EAAU/U,UAAawC,EAAOxC,WAAY+U,EAAU3V,aAAa4V,2BAA2BtV,EAAKqV,EAAUvS,IAAS,OAQ3HyS,iBAAkB,QAASA,GAAiBvV,EAAKiV,EAASnS,GACxD,IAAKmS,EAAS3U,UAAY2U,EAASvV,YAAcoD,EAAOxC,SAAM,CAC5D,GAAIkV,GAAc3W,KAAKuW,yBAAyBpV,EAAKiV,EAASnS,GAC1D2S,EAAgB5W,KAAKyW,2BAA2BtV,EAAKiV,EAASnS,GAC9DyS,EAAmBpR,KAAKsD,IAAI+N,EAAaC,EAC7C,OAAOF,GAET,MAAO,IAKTH,yBAA0B,SAAkCpV,EAAKsU,EAAMD,GACrE,IAAKC,EAAMhU,UAAYgU,EAAM5U,YAAc2U,EAAM/T,SAAM,CACrD,GAAImF,GAAWzF,EAAK+C,QAAQiS,OAAOV,EAAOD,GACtC3O,EAAc,EACdjE,EAAe6S,EAAM7S,cACzBA,GAAapC,QAAQ,SAAUqC,GAC7BA,EAAMY,WAAWjD,QAAQ,SAAUoF,GAC7BA,EAAGjC,OAASiD,IACdC,GAAejB,EAAGkB,YAIxB,IAAI+P,GAAmBrB,EAAM5S,eAAe7B,OACxC2V,EAA+B,IAAZ7P,EAAgBgQ,CAIvC,OAHIH,GAAmB,MACrBA,EAAmB,KAEdA,EAET,MAAO,IAKTD,2BAA4B,SAAoCtV,EAAKsU,EAAMD,GACzE,IAAKC,EAAMhU,UAAYgU,EAAM5U,YAAc2U,EAAM/T,UAC3CN,EAAK+C,QAAQC,SAASsR,EAAMD,EAAM,IAAE,CACtC,GAAI3O,GAAc,EACdjE,EAAe6S,EAAM7S,cACzBA,GAAapC,QAAQ,SAAUqC,GAC7BA,EAAMY,WAAWjD,QAAQ,SAAUoF,GAChB,IAAbA,EAAGjC,QACLkD,GAAejB,EAAGkB,YAIxB,IAAI+P,GAAmBrB,EAAM5S,eAAe7B,OACxC2V,EAA+B,IAAZ7P,EAAgBgQ,CAIvC,OAHIH,GAAmB,MACrBA,EAAmB,KAEdA,EAGX,MAAO,IAIVI,cAAe,QAASA,GAAc3V,EAAMP,GAE3C,GAAI2U,GAAcvV,KAAKsV,eAAenU,EAAKP,GAAQ,GAC/CkW,IACJ,KAAI,GAAIC,KAAMxB,IACRA,EAAYwB,GAAItV,UAAY8T,EAAYwB,GAAIlW,WAChDiW,EAAc7J,KAAKsI,EAAYwB,GAGjC,OAAOD,IAIPE,eAAgB,QAASA,GAAe7V,EAAMP,EAAQmD,GACpD,GAAIH,GAAa5D,KAAK+V,iBAAiB5U,EAAKP,GACxCoW,IACJ,KAAI,GAAIC,KAAMrT,GAAU,CACtB,GAAIK,GAASL,EAAWqT,GACpBtT,EAAQI,EAAQtB,OAAO,GAAGgB,WAAW,GAAGE,KACxCxC,GAAK+C,QAAQC,SAASJ,EAAQE,EAAON,IACvCqT,EAAe/J,KAAKhJ,GAGxB,MAAO+S,IAIVjB,iBAAkB,SAA0B5U,EAAMP,GAE/C,GAAIsW,GAAYlX,KAAKsV,eAAenU,EAAKP,GAAQ,EACjD,OAAOsW,GAAUxV,eAIpB4T,eAAgB,SAAwBnU,EAAMP,GAC3C,GAAIuW,GAAahW,EAAK0C,OAAOjD,GACzB2U,EAAcpU,EAAK0C,OAAOjD,GAAQL,MACpC6W,EAAQjW,EAAK2C,SAASlD,GACpBsW,EAAY/V,EAAK0C,OAAOuT,GAC1BxT,EAAczC,EAAK0C,OAAOuT,GAAO7W,KACnC,QAAQ4W,EAAY5B,EAAa2B,EAAWtT,IAI/CyT,QAAS,SAAiB5W,EAAMU,GAC/B,MAAOV,GAAKmC,eAAe7B,OAASN,EAAKkC,QAIzC2U,aAAc,SAAsBnW,EAAKiV,EAASnS,GAChD,QAAKmS,EAAS3U,WAAY2U,EAASvV,WAAcoD,EAAOxC,WAC/CiV,iBAAiBvV,EAAKiV,EAASnS,IAAS,IAMnDsT,SAAU,SAAkBpW,EAAKiV,EAASnS,GACxC,QAAKmS,EAAS3U,WAAY2U,EAASvV,WAAcoD,EAAOxC,WAC/CiV,iBAAiBvV,EAAKiV,EAASnS,GAAQ,GAMlDuT,QAAS,QAASA,GAAQjX,GACxB,GAAIiX,GAAU,CAOd,OANAjX,GAAMC,QAAQ,SAAUC,GACtB,GAAI+B,GAAO/B,EAAK+B,MACZA,GAAOgV,IACTA,EAAUhV,KAGPgV,GAITC,kBAAmB,QAASA,GAAkBlX,GAC5C,GAAIiX,GAAU,EACVC,EAAoB,IAQxB,OAPAlX,GAAMC,QAAQ,SAAUC,GACtB,GAAI+B,GAAO/B,EAAK+B,MACZA,GAAOgV,IACTA,EAAUhV,EACViV,EAAoBhX,KAGjBgX,GAOTC,QAAS7Y,EAAW,EAAG,SAAiBsC,EAAMP,GAC5C,GAAIkW,GAAgB9W,KAAK8W,cAAc3V,EAAMP,EAE7BZ,MAAKsV,eAAenU,EAAKP,GAAQ,EACjD,IAAmB,IAAfO,EAAK4I,MACP,IAAK,GAAIrJ,GAAI,EAAGA,EAAIoW,EAAc/V,OAAQL,IAAK,CAC7C,GAAI+U,GAAQqB,EAAcpW,GACtBkD,EAAa5D,KAAKgX,eAAe7V,EAAMP,EAAQ6U,EACnD,IAAI7R,EAAW7C,OAAO,EACpB,IAAK,GAAIuF,GAAI,EAAGA,EAAI1C,EAAW7C,OAAQuF,IAAK,CAC1C,GAAIkP,GAAQ5R,EAAW0C,EACvB,IAAIkP,EAAMhT,SAAWxC,KAAKyX,kBAAkB7T,GAAYpB,OACtD,MAAOxC,MAAK2V,MAAMF,EAAMD,IAMlC,MAAO,QAKVmC,QAAS9Y,EAAW,EAAG,SAAiBsC,EAAMP,GAC7C,GAAIgX,GAAuB5X,KAAK+V,iBAAiB5U,EAAMP,GACnDkW,EAAgB9W,KAAK8W,cAAc3V,EAAMP,EAC7C,IAAmB,IAAfO,EAAK4I,MACL,IAAK,GAAIrJ,GAAI,EAAGA,EAAIoW,EAAc/V,OAAQL,IAExC,IAAK,GADD+U,GAAQqB,EAAcpW,GACjB4F,EAAI,EAAGA,EAAIsR,EAAqB7W,OAAQuF,IAAK,CACpD,GAAIkP,GAAQoC,EAAqBtR,EACrC,IAAItG,KAAKqX,QAAQ7B,EAAMrU,IAASA,EAAK+C,QAAQC,SAASsR,EAAMD,EAAM,IACjE,MAAOxV,MAAK4V,QAAQH,EAAMD,GAK/B,MAAO,QAKPqC,QAAShZ,EAAW,EAAG,SAAiBsC,EAAMP,GAE5C,IAAK,GADDkW,GAAgB9W,KAAK8W,cAAc3V,EAAMP,GACpCF,EAAI,EAAGA,EAAIoW,EAAc/V,OAAQL,IAGxC,IAAK,GAFD+U,GAAQqB,EAAcpW,GACtBkD,EAAa5D,KAAKgX,eAAe7V,EAAMP,EAAQ6U,GAC1CnP,EAAI,EAAGA,EAAI1C,EAAW7C,OAAQuF,IAAK,CAC1C,GAAIkP,GAAQ5R,EAAW0C,EACvB,OAAOtG,MAAK2V,MAAMF,EAAMD,GAG5B,MAAO,QAGVsC,QAASjZ,EAAW,EAAG,SAAiBsC,EAAMP,GAG7C,IAAK,GAFDgX,GAAuB5X,KAAK+V,iBAAiB5U,EAAMP,GACtDkW,EAAgB9W,KAAK8W,cAAc3V,EAAMP,GACjCF,EAAI,EAAGA,EAAIoW,EAAc/V,OAAQL,IAEtC,IAAK,GADD+U,GAAQqB,EAAcpW,GACjB4F,EAAI,EAAGA,EAAIsR,EAAqB7W,OAAQuF,IAAK,CACpD,GAAIkP,GAAQoC,EAAqBtR,GAC7B3C,EAAQ8R,EAAMhT,OAAO,GAAGgB,WAAW,GAAGE,KAC1C,IAAIxC,EAAK+C,QAAQC,SAASsR,EAAMD,EAAM7R,MAAW,EAAK,CACvD,GAAIoU,GAActC,EAAMrS,eAAejC,EACvC,IAAI4W,EAAYhX,OAAS,EACxB,MAAOf,MAAKgF,KAAKyQ,EAAMsC,EAAY,KAKzC,MAAO,SO/cTzY,GAAQ0Y,SAAWhZ,GAClBa,YAAa,SAAkBoY,GAC9BA,EAASjY,KAAKiY,OAASA,GAAUC,SAASC,eAAc,iBACxD,IAAIC,GAAMpY,KAAKoY,IAAMH,EAAOI,WAAU,KACtCD,GAAIE,UAAY,SAGjBC,YAAa,SAAqBzM,EAAOC,EAAQyM,GAChD,GAAIP,GAASjY,KAAKiY,OACjBG,EAAMpY,KAAKoY,GACZA,GAAIK,OACJL,EAAIM,MAAMT,EAAOnM,MAAQA,EAAOmM,EAAOlM,OAASA,EAChD,KACCyM,EAAM7O,KAAK3J,KAAMoY,GAChB,QACDA,EAAIO,YAIN9G,OAAQ,SAAgB7F,GACvB,GAAI9H,GAAU8H,EAAQ9H,OACtBlE,MAAKuY,YAAYrU,EAAQ4H,MAAO5H,EAAQ6H,OAAQ,SAAUqM,GACzDA,EAAIQ,UAAU,EAAG,EAAG5Y,KAAKiY,OAAOnM,MAAO9L,KAAKiY,OAAOlM,OACnD,KAAK,GAAI8E,GAAI,EAAG/E,EAAQ5H,EAAQ4H,MAAO+E,EAAI/E,EAAO+E,IACjD,IAAK,GAAIC,GAAI,EAAG/E,EAAS7H,EAAQ6H,OAAQ+E,EAAI/E,EAAQ+E,IAC/C5M,EAAQmI,YAAYwE,EAAGC,IAG3B9Q,KAAK6Y,WAAWhI,EAAGC,EAAG,EAAG,EAAG,WAF5B9Q,KAAK6Y,WAAWhI,EAAGC,EAAG,EAAG,EAAG,QAM/B,IAAIgI,GAAW9Y,KACd6D,EAASmI,EAAQnI,MAClBuU,GAAIW,YAAc,QAClBX,EAAIY,KAAO,WACX,KAAK,GAAI9M,KAAQrI,GAChBA,EAAOqI,GAAM3L,MAAMC,QAAQ,SAAUC,GAC/BA,EAAKgB,WACTqX,EAASD,WAAWpY,EAAK6B,SAAS,GAAI7B,EAAK6B,SAAS,GAAI,EAAG,EAAG7B,EAAKV,KAAKa,QACxEwX,EAAIE,UAAY,QAChBF,EAAIa,SAASxY,EAAKE,GAAIF,EAAK6B,SAAS,GAAI7B,EAAK6B,SAAS,UAO3DuQ,YAAa,SAAqB7G,EAASvL,GAE1C,GADAA,EAAOA,GAAQuL,EAAQlH,eACb,CACT,GAAIZ,GAAU8H,EAAQ9H,OACtBlE,MAAKuY,YAAYrU,EAAQ4H,MAAO5H,EAAQ6H,OAAQ,SAAUqM,GACzD,GAECc,GAAOzU,EAFJd,EAAQlD,EAAK6C,WACfuK,EAAQ3J,EAAQ6J,YAAYtN,EAAMkD,EAEpC,KAAK,GAAIgE,KAAKkG,GACbqL,EAAiC,IAAxB,EAAIrL,EAAMlG,GAAKhE,GAAe,GACvCc,EAAMkD,EAAEjD,MAAK,KACb1E,KAAK6Y,YAAYpU,EAAI,IAAKA,EAAI,GAAI,EAAG,EAAG,kBAAmByU,EAAM,SAMrEL,WAAY,SAAoBhI,EAAGC,EAAG/E,EAAQD,EAAOqN,GACpD,GAAIf,GAAMpY,KAAKoY,GACfA,GAAIE,UAAYa,EAChBf,EAAIgB,SAASvI,EAAGC,EAAG,EAAG,KC9DxB,IAAIuI,GAAwB/Z,EAAQ+Z,sBAAwBra,EAAQ8G,GACnEjG,YAAa,SAA+BuG,EAAQO,GACnD3G,KAAKoG,OAASA,EACdpG,KAAK2G,SAAWA,GAGjB2S,gBAAiB,SAAyBnY,EAAMD,EAAS4J,GACxD,GAAIlB,GAAezI,EAAKyI,eACvB7F,EAAU/D,KAAKmG,SAAShF,EAAMnB,KAAKoG,QACnCnC,EAASjE,KAAKmG,SAAShF,EAAMnB,KAAK2G,UAElCiE,EAAQ1J,EAAQD,OAAO,SAAUyB,GAChC,MAAIA,aAAaiC,KAMhBjC,EAAE6W,aAAepY,EAAK+C,QAAQ0C,SAAS7C,EAAQzB,SAAU2B,EAAO3B,WACzD,KAQTkX,IAaD,OAVCA,GAAY5O,EAAM3J,OAAO,SAAUyB,GAIlC,MADAA,GAAE+W,UAAYtY,EAAK+C,QAAQC,SAASJ,EAASE,GACtCvB,EAAE+W,YAAcjW,EAAAA,IAMrBgW,EAAWzY,OAAS,GACvByY,EAAW/E,KAAK,SAAUiF,EAAIC,GAC7B,MAAOD,GAAGD,UAAYE,EAAGF,YAEnBtY,EAAK0J,KAAKxL,EAAIuK,EAAc4P,EAAW,IAAK,KAAM1O,KAEzDF,EAAM6J,KAAK,SAAUiF,EAAIC,GAExB,MAAOD,GAAGH,aAAeI,EAAGJ,eAEtBpY,EAAK0J,KAAKxL,EAAIuK,EAAcgB,EAAM,IAAK,KAAME,KAItD8O,SAAU,SAAkBzY,EAAMD,GACjC,GAAI2Y,GAAS7Z,IAEb,OADAkB,GAAUA,GAAWC,EAAKyJ,QAAQzJ,EAAKyI,gBAChC1I,EAAQD,OAAO,SAAUyB,GAC/B,MAAOA,aAAa0B,IAAe1B,EAAEiE,WAAakT,EAAOlT,YAI3DX,QAAS,SAAiB8T,EAAgBhP,GACzC,GAAI+O,GAAS7Z,KACZ+Z,EAAID,EAAevH,aACnB3I,EAAemQ,EAAEnQ,cAClBmQ,GAAIA,EAAElP,KAAKxL,EAAIuK,EAAc,GAAIrI,GAAesY,EAAOzT,SAAU,KAAM0E,EACvE,IAAI5J,GAAU6Y,EAAEnP,QAAQhB,GACvBoQ,EAAQha,KAAK4Z,SAASG,EAAG7Y,EAc1B,OAbI8Y,GAAMjZ,OAAS,IAClBgZ,EAAI/Z,KAAKsZ,gBAAgBS,EAAG7Y,EAAS4J,GACjCiP,EAAEjV,gBAAkBiV,EAAEjV,eAAenE,KAAOkZ,EAAOzT,SACtD4T,EAAQha,KAAK4Z,SAASG,KAGpBC,EAAMjZ,OAAS,EAClB+Y,EAAevH,aAAewH,EAAElP,KAAKxL,EAAIuK,EAAcoQ,EAAM,IAAK,KAAMlP,GAAQmP,aACtEF,EAAEjV,gBAAkBiV,EAAEjV,eAAenE,KAAOkZ,EAAOzT,OAC7D0T,EAAevH,aAAewH,EAAElP,KAAKxL,EAAIuK,EAAc,GAAI5G,GAAc6W,EAAOzT,SAAU,KAAM0E,GAEhGgP,EAAevH,aAAewH,EAExBD,GAGRjY,qBACC0E,WAAY,wBACZzE,WAAY,SAAyCzC,GACpD,OAAQA,EAAI+G,OAAQ/G,EAAIsH,cAOvB2L,EAAoBhT,EAAQgT,kBAAoBtT,EAAQJ,EAAQ2K,MAInE1J,YAAa,SAA2BmM,GACvChM,KAAKqG,QAAU2F,EAAQ3F,QACvBzH,EAAQ2K,KAAKI,KAAK3J,KAAMgM,EAAQpC,gBAChC5J,KAAKuS,aAAevG,GAKrB1B,OAAQ,WACP,MAAOtK,MAAKuS,aAAajI,UAKvBM,MAAO,WACT,GAAI5K,KAAKsK,SACR,MAAO,KAER,IAAInJ,GAAOnB,KAAKuS,aACf3I,EAAe5J,KAAK4J,eACpBrG,IAWD,OAVAA,GAAEqG,GAAgB1K,EAASgb,QAC1B/Y,EAAK0C,OAAO+F,GAAcrJ,MAAMU,OAAO,SAAUR,GAChD,OAAQA,EAAKgB,OAAON,IAASV,EAAKI,YAEnCM,EAAK0C,OAAO1C,EAAK2C,YAAYvD,MAAMU,OAAO,SAAUR,GACnD,OAAQA,EAAKgB,YAEb6C,SAAS,SAAU8R,EAAUnS,GAC9B,MAAO,IAAIoV,GAAsBjD,EAASzV,GAAIsD,EAAOtD,MACnDiE,UACIrB,GAKRsH,KAAM,SAAc3J,EAAS+F,EAAM6D,GAClC,GAAIG,GAAWH,EAAS9K,KAAOrB,EAAOuM,OAAOlL,MAC5C4J,EAAe5J,KAAK4J,eACpBmB,EAAS7J,EAAQ0I,EAGlB,OAFAmB,GAAO/E,QAAQiF,EAAUH,GACzBG,EAASd,cAAgBc,EAASsH,aAAapI,cACxCc,GAGRpJ,qBACC0E,WAAY,oBACZzE,WAAY,SAAqCzC,GAChD,OAAQA,EAAIkT,iBCjJd,UALE/R,QAAQ,SAAUkQ,GACnBA,EAAKhR,WAAW6G,WAAajH,EAAQC,YAAY,IAAMmR,EAAKhR,WAAW6G,WACvEjH,EAAQI,WAAWC,QAAQsN,KAAKyD,KAEjC/R,EAAOgB,QAAQL,GACRA","file":"ludorum-wargame.min.js"}