{"version":3,"sources":["../src/__prologue__.js","../src/dynamicScripting.js","../src/armies.js","../src/moves.js","../src/wargame.js","../src/terrain.js","../src/test.js","../src/grim-future.js","../src/render.js","../src/strategic.js","../src/__epilogue__.js"],"names":["__init__","base","Sermat","ludorum","playerRule","priority","fun","declare","iterable","Iterable","initialize","raiseIf","obj","exports","__package__","__name__","__dependencies__","__SERMAT__","include","Army","constructor","args","army","this","string","ignore","number","coerce","defaultValue","array","units","forEach","unit","i","id","player","isEnabled","len","length","startRound","filter","actions","game","activeUnit","getActions","map","ActivateAction","isEliminated","isDead","livingUnits","worth","sum","static __SERMAT__","serializer","score","Unit","radius","quality","defense","props","bool","position","Float32Array","cost","models","m","size","livingModels","model","health","toughness","EndTurnAction","isActive","hasMoved","concat","getMoveActions","getShootActions","maxRange","r","Infinity","equipments","equipment","range","enemyUnits","armies","opponent","shooter","ret","target","terrain","canShoot","ShootAction","getAssaultActions","assaulter","AssaultAction","reachablePositions","mapApply","k","v","pos","split","MoveAction","toArray","activate","__activeUnit__","endTurn","move","newPosition","suffer","woundCount","modelHealth","wounds","Math","min","influence","hasOwnProperty","Model","shooting","eq","melee","GameAction","aleatories","execute","objects","unimplemented","unitById","unitId","players","j","identifier","run","Array","apply","targetId","distance","attackCount","attacks","aleatory","ShootAleatory","haps","targetUnit","targetWorth","counterWounds","disable","targetCost","combinations","math","rolls","p","n","pow","rerolls","ns","repeat","p2","p3","addRolls","rs1","rs2","len1","len2","Aleatory","shooterQuality","targetDefense","__hitProb__","max","__saveProb__","rs","__distribution__","distribution","value","random","Randomness","DEFAULT","weightedChoice","Wargame","Game","name","rounds","params","call","activePlayer","object","integer","round","nextRound","nextTurn","indexOf","activePlayers","scores","toObject","result","player1","player2","zerosumResult","synchronizeMetagame","resetTerrain","moves","next","update","action","Contingent","nextGame","clone","Terrain","SURROUNDINGS","dx","dy","SQRT2","tileSet","passable","visible","line","Uint8Array","__unitsByPosition__","width","height","wargame","unitsByPosition","team","tileAt","tile","isPassable","checkUnits","isVisible","p1","d0","abs","d1","sqrt","performance","mark","pos2","cost2","delta","visited","pending","push","measure","canReach","destination","origin","heuristic","sort","dual bresenham","point1","point2","e2","sx","sy","curLoc","slice","err","shooterUnit","sight","bresenham","areaOfSight","area","BRESENHAM_CACHE","forEachApply","_","path","prototype","InfluenceMap","momentum","decay","iterations","role","grid","terrainGrid","unitsInfluences","spread","sign","posX","posY","imap","getMomentumInf","c","decays","di","dj","absInf","absV","inf","NaN","exp","oneGrid","isNaN","test","example0","ARMY","GrimFuture","BattleBrothers","Red","UNITS","BattleBrothers_Unit","Blue","example1","exampleDS1","type","Shape","CIRCLE","x","y","exampleDS2","MODELS","BattleBrother","exampleDS3","SupportBrothers_Unit","exampleDS4","randomGame","RandomPlayer","window","match","Match","events","on","RENDERER","render","console","log","ser","then","randomAbstractedGame","MonteCarloPlayer","simulationCount","AbstractedWargame","concreteGame","randomAbstractedGameDiscrete","timeCap","testGame","renderSight","EQUIPMENTS","LightClaws","CClaws","Pistol","AssaultRifle","HeavyFlamethrower","ap","AssaultBrother","SupportBrother","fearless","AssaultBrothers_Unit","faction","static MODELS","static UNITS","DynamicScriptingPlayer","Player","__pendingActions__","__roundActions__","rules","ownRules","self","Object","keys","getPrototypeOf","member","substr","sortRules","r1","r2","decision","rule","roundActions","adjustWeights","__rule__","shift","__lastRound__","diff","gameWorth","deadModels","armiesAndUnits","playerUnits","unitY","unitX","serializeAsProperties","shoot","assault","moveAction","mostDangerousUnits","livingEnemyUnits","enemyUnit","canKill","dangerousUnits","canSee","attacker","canKillShooting","canKillAssaulting","bestAttackResultShooting","bestAttackResultAssaulting","bestAttackResult","barShooting","barAssaulting","unitYModelsAlive","possibleUnits","pu","shootableUnits","eu","enemyArmy","playerArmy","enemy","wounded","canWoundALot","canWound","maxCost","mostExpensiveUnit","rule_3A","rule_2A","livingEnemyUnitsList","rule_1A","rule_1B","moveActions","Renderer","canvas","document","getElementById","ctx","getContext","fillStyle","renderScope","block","save","scale","restore","clearRect","drawSquare","renderer","strokeStyle","font","fillText","alpha","renderMoves","world","WorldWidth","WorldHeight","beginPath","arc","PI","fill","color","fillRect","StrategicAttackAction","executeMovement","__distance__","approaches","__range__","m1","m2","getShots","attack","abstractedGame","g","product"],"mappings":";;sTAEA,QAASA,GAASC,EAAMC,EAAQC,GAAW,YCF1C,SAASC,GAAWC,EAAUC,GAE7B,MADAA,GAAID,SAAWA,EACRC,EDER,GAAIC,GAAUN,EAAKM,QAClBC,EAAWP,EAAKO,SAChBC,EAAWR,EAAKQ,SAChBC,EAAaT,EAAKS,WAClBC,EAAUV,EAAKU,QACfC,EAAMX,EAAKW,IAGRC,GACFC,YAAa,kBACbC,SAAU,kBACVf,SAAUA,EACVgB,kBAAmBf,EAAMC,EAAQC,GACjCc,YAAcC,SAAUjB,KETvBkB,EAAON,EAAQM,KAAOZ,GACzBa,YAAa,SAAcC,GAC1B,GAAIC,GAAOC,IACXb,GAAWa,KAAMF,GACfG,OAAM,UAAaC,QAAQ,IAC3BC,OAAM,SAAYC,QAAQ,EAAMC,aAAc,IAC9CC,MAAK,SACHN,KAAKO,OACRP,KAAKO,MAAMC,QAAQ,SAAUC,EAAMC,GAClCD,EAAKE,GAAKZ,EAAKa,OAAO,IAAMF,EAC5BD,EAAKV,KAAOA,KAOfc,UAAW,WACV,IAAK,GAAIH,GAAI,EAAGI,EAAMd,KAAKO,MAAMQ,OAAQL,EAAII,EAAKJ,IACjD,GAAIV,KAAKO,MAAMG,GAAGG,UACjB,OAAO,CAGT,QAAO,GAKRG,WAAY,WACX,MAAOhB,MAAKO,MAAMU,OAAO,SAAUR,GAClC,MAAOA,GAAKO,eACVD,QAKJG,QAAS,SAAiBC,GACzB,GAAIC,GAAaD,EAAKC,YACtB,OAAIA,GACIA,EAAWC,WAAWF,GAEtBnB,KAAKO,MAAMU,OAAO,SAAUR,GAClC,MAAOA,GAAKI,YACVS,IAAI,SAAUb,GAChB,MAAO,IAAIc,GAAed,EAAKE,OAOlCa,aAAc,SAAsBL,GACnC,MAAOnB,MAAKO,MAAMU,OAAO,SAAUR,GAClC,OAAQA,EAAKgB,WACXV,QAAU,GAKdW,YAAa,WACZ,MAAO1B,MAAKO,MAAMU,OAAO,SAAUR,GAClC,OAAQA,EAAKgB,YAIfE,MAAO,WACN,MAAO1C,GAASe,KAAKO,OAAOe,IAAI,SAAUb,GACzC,MAAOA,GAAKkB,UACVC,OAKJC,qBACCC,WAAY,SAAwBzC,GACnC,QAAUuB,OAAQvB,EAAIuB,OAAQL,MAAOlB,EAAIkB,MAAOwB,MAAO1C,EAAI0C,YAa1DC,EAAO1C,EAAQ0C,KAAOhD,GAEzBiD,OAAQ,GACRC,QAAS,EACTC,QAAS,EAETtC,YAAa,SAAcuC,GAC1BjD,EAAWa,KAAMoC,GACf9B,MAAK,YACLA,MAAK,UACL+B,KAAI,YAAenC,QAAQ,IAC3BmC,KAAI,YAAenC,QAAQ,IAC3BmC,KAAI,aAAgBnC,QAAQ,IAE9BF,KAAKsC,SAAW,GAAIC,cAAavC,KAAKsC,WAGvCE,KAAM,WACL,MAAOvD,GAASe,KAAKyC,QAAQnB,IAAI,SAAUoB,GAC1C,MAAOA,GAAEF,MAAQ,IACfZ,OAGJe,KAAM,WACL,MAAO3C,MAAKyC,OAAO1B,QAKpB6B,aAAc,WACb,MAAO5C,MAAKyC,OAAOxB,OAAO,SAAU4B,GACnC,MAAOA,GAAMC,SAAW,KAM1BA,OAAQ,WACP,MAAO9C,MAAK4C,eAAe7B,QAG5BU,OAAQ,WACP,MAAOzB,MAAK8C,UAAY,GAGzBnB,MAAO,WACN,MAAO1C,GAASe,KAAKyC,QAAQnB,IAAI,SAAUuB,GAC1C,MAAOA,GAAMC,SAAWD,EAAME,UAAYF,EAAML,OAC9CZ,OAOJP,WAAY,SAAoBF,GAC/B,GAAID,IAAW,GAAI8B,GAAchD,KAAKW,IAOtC,OANIX,MAAKiD,WACHjD,KAAKkD,WACThC,EAAUA,EAAQiC,OAAOnD,KAAKoD,eAAejC,KAE9CD,EAAUA,EAAQiC,OAAOnD,KAAKqD,gBAAgBlC,KAExCD,GAGRoC,SAAU,WACT,GAAIC,KAAKC,EAAAA,EAQT,OAPAxD,MAAK4C,eAAepC,QAAQ,SAAUqC,GACrCA,EAAMY,WAAWjD,QAAQ,SAAUkD,IAC7BA,EAAUC,MAAQJ,IACtBA,GAAKG,EAAUC,WAIXJ,GAKRF,gBAAiB,SAAyBlC,GACzC,GAAIyC,GAAazC,EAAK0C,OAAO1C,EAAK2C,YAAYvD,MAC7CwD,EAAU/D,KACVgE,EAAIJ,EAAW3C,OAAO,SAAUgD,GAChC,MAAO9C,GAAK+C,QAAQC,SAASJ,EAASE,IAAST,EAAAA,IAC7ClC,IAAI,SAAU2C,GAChB,MAAO,IAAIG,GAAYL,EAAQpD,GAAIsD,EAAOtD,KAE3C,OAAOqD,IAKRK,kBAAmB,SAA2BlD,GAC7C,GAAIyC,GAAazC,EAAK0C,OAAO1C,EAAK2C,YAAYvD,MAC7C+D,EAAYtE,KACZgE,EAAIJ,EAAW3C,OAAO,SAAUgD,GAChC,MAAO9C,GAAK+C,QAAQC,SAASG,EAAWL,IAAST,EAAAA,IAC/ClC,IAAI,SAAU2C,GAChB,MAAO,IAAIM,GAAcD,EAAU3D,GAAIsD,EAAOtD,KAE/C,OAAOqD,IAKRZ,eAAgB,SAAwBjC,GACvC,GAAIV,GAAOT,IACX,OAAOf,GAASkC,EAAK+C,QAAQM,mBAAmB/D,IAAOgE,SAAS,SAAUC,EAAGC,GAC5E,GAAIC,GAAMF,EAAEG,MAAK,IACjB,OAAO,IAAIC,GAAWrE,EAAKE,KAAMiE,EAAI,IAAKA,EAAI,IAAKD,EAAI,KACrDI,WA6DJ/D,WAAY,WAIX,MAHAhB,MAAKiD,UAAW,EAChBjD,KAAKkD,UAAW,EAChBlD,KAAKa,UAAYb,KAAK8C,SAAW,EAC1B9C,KAAKa,WAKbmE,SAAU,SAAkB7D,GAC3B/B,GAASY,KAAKa,UAAW,QAASb,KAAKW,GAAI,oBAC3CvB,EAAQY,KAAKiD,SAAU,QAASjD,KAAKW,GAAI,uBACzCvB,EAAQY,KAAK8C,UAAY,EAAG,QAAS9C,KAAKW,GAAI,yBAE9CX,KAAKiD,UAAW,EAChB9B,EAAK8D,eAAiBjF,MAGvBkF,QAAS,SAAiB/D,GACzBnB,KAAKiD,UAAW,EAChBjD,KAAKa,WAAY,EACbM,EAAK8D,iBAAmBjF,OAC3BmB,EAAK8D,eAAiB,OAMxBE,KAAM,SAAchE,EAAMiE,EAAaF,GACtC9F,GAASY,KAAKiD,SAAU,QAASjD,KAAKW,GAAI,mBAC1CX,KAAKsC,SAAW8C,EAChBpF,KAAKkD,UAAW,EACZgC,GACHlF,KAAKkF,QAAQ/D,IAMfkE,OAAQ,SAAgBlE,EAAMmE,GAC7B,GACCzC,GAAO0C,EAAa7E,EADjB+B,EAASzC,KAAKyC,MAElB,KAAK/B,EAAI,EAAG4E,EAAa,GAAK5E,EAAI+B,EAAO1B,SACxC8B,EAAQJ,EAAO/B,GACf6E,EAAc1C,EAAMC,WAChByC,EAAc,IACjB1C,EAAM2C,QAAUC,KAAKC,IAAIJ,EAAYC,GACrCD,GAAcC,EACVD,GAAc,KAN6B5E,KAYjD,MADAV,MAAKa,UAAYb,KAAKa,YAAcb,KAAKyB,SAClCzB,KAAKa,WAKb8E,UAAW,SAAmBxE,KAM9BU,qBACCC,WAAY,SAAwBzC,GACnC,GAAIS,IACHwC,UAAWjD,EAAIiD,SAAS,GAAIjD,EAAIiD,SAAS,IACzCG,OAAQpD,EAAIoD,OAOb,QALA,WAAa,WAAY,aAAajC,QAAQ,SAAUkE,GACnDrF,EAAIuG,eAAelB,KACtB5E,EAAK4E,GAAKrF,EAAIqF,OAGR5E,OAUP+F,EAAQvG,EAAQuG,MAAQ7G,GAG3B+D,UAAW,EACXU,cAEA5D,YAAa,SAAe2F,GAC3BxF,KAAKwF,OAAiB,EAARA,GAGf1C,OAAQ,WACP,MAAO9C,MAAK+C,UAAY/C,KAAKwF,QAK9BM,SAAU,SAAkBnC,GAE3B,MADAA,GAAQA,GAAS,EACVF,WAAWxC,OAAO,SAAU8E,GAClC,MAAOA,GAAGpC,OAASA,KAMrBqC,MAAO,WACN,MAAOvC,YAAWxC,OAAO,SAAU8E,GAClC,MAAOA,GAAGpC,MAAQ,KAMpB9B,qBACCC,WAAY,SAAyBzC,GACpC,OAAQA,EAAImG,YChYXS,EAAa3G,EAAQ2G,WAAajH,GAGrCkH,WAAY,SAAoB/E,GAC/B,MAAO,OAGRgF,QAASzH,EAAK0H,QAAQC,cAAa,aAAe,uBAElDC,SAAU,SAAkBnF,EAAMR,GACjCA,EAAKA,GAAMX,KAAKuG,MAEhB,KAAK,GADD9F,GAAO,KACFC,EAAI,GAAID,GAAQC,EAAIS,EAAKqF,QAAQzF,OAAQL,IAEjD,IAAK,GADDH,GAAQY,EAAK0C,OAAO1C,EAAKqF,QAAQ9F,IAAIH,MAChCkG,EAAI,EAAGA,EAAIlG,EAAMQ,OAAQ0F,IACjC,GAAIlG,EAAMkG,GAAG9F,IAAMA,EAAI,CACtBF,EAAOF,EAAMkG,EACb,OAKH,MADArH,IAASqB,EAAM,QAASE,EAAI,mBACrBF,GAKRkB,MAAO,WACN,MAAO,MAMLJ,EAAiBjC,EAAQiC,eAAiBvC,EAAQiH,GACrDpG,YAAa,SAAwB0G,GACpCvG,KAAKuG,OAASA,GAGfJ,QAAS,SAAiBhF,GACzBnB,KAAKsG,SAASnF,GAAM6D,SAAS7D,IAG9BU,qBACC6E,WAAY,iBACZ5E,WAAY,SAAkCzC,GAC7C,OAAQA,EAAIkH,YAOXvD,EAAgB1D,EAAQ0D,cAAgBhE,EAAQiH,GACnDpG,YAAa,SAAuB0G,GACnCvG,KAAKuG,OAASA,GAGfJ,QAAS,SAAiBhF,GACzBnB,KAAKsG,SAASnF,GAAM+D,QAAQ/D,IAG7BU,qBACC6E,WAAY,gBACZ5E,WAAY,SAAkCzC,GAC7C,OAAQA,EAAIkH,YAOXzB,EAAaxF,EAAQwF,WAAa9F,EAAQiH,GAC7CpG,YAAa,SAAoB0G,EAAQjE,EAAUqE,GAClD3G,KAAKuG,OAASA,EACdvG,KAAKsC,SAAWA,EAChBtC,KAAK2G,IAAMA,GAKZR,QAAS,SAAiBhF,GAEzBnB,KAAKsG,SAASnF,GAAMgE,KAAKhE,EAAMnB,KAAKsC,SAAUtC,KAAK2G,MAGpD9E,qBACC6E,WAAY,aACZ5E,WAAY,SAA8BzC,GACzC,OAAQA,EAAIkH,OAAQK,MAAMC,MAAMD,MAAOvH,EAAIiD,UAAWjD,EAAIsH,SAOzDvC,EAAc9E,EAAQ8E,YAAcpF,EAAQiH,GAC/CpG,YAAa,SAAqB0G,EAAQO,GACzC9G,KAAKuG,OAASA,EACdvG,KAAK8G,SAAWA,GAGjBZ,WAAY,SAAoB/E,GAC/B,GAAI4C,GAAU/D,KAAKsG,SAASnF,GAC3B8C,EAASjE,KAAKsG,SAASnF,EAAMnB,KAAK8G,UAClCC,EAAW5F,EAAK+C,QAAQC,SAASJ,EAASE,GAC1C+C,EAAc,CACfjD,GAAQtB,OAAOjC,QAAQ,SAAUqC,GAChCA,EAAMY,WAAWjD,QAAQ,SAAUkD,GAC9BA,EAAUC,OAASoD,IACtBC,GAAetD,EAAUuD,YAI5B,IAAIC,GAAW,GAAIC,GAAcpD,EAAQ7B,QAAS+B,EAAO9B,QAAS6E,EAClE,QAASxB,OAAQ0B,IAGlBf,QAAS,SAAiBhF,EAAMiG,GAC/B,GAAI5B,GAAS4B,EAAK5B,OACjB6B,EAAarH,KAAKsG,SAASnF,EAAMnB,KAAK8G,SACvC,IAAItB,EAAS,EAAG,CACf,GAAI8B,GAAcD,EAAW1F,OAC7B0F,GAAWhC,OAAOlE,EAAMqE,GAExBxF,KAAK2B,MAAQ2F,EAAcD,EAAW1F,QAEvC3B,KAAKsG,SAASnF,EAAMnB,KAAKuG,QAAQrB,QAAQ/D,IAK1CU,qBACC6E,WAAY,cACZ5E,WAAY,SAA+BzC,GAC1C,OAAQA,EAAIkH,OAAQlH,EAAIyH,cAOvBvC,EAAgBjF,EAAQiF,cAAgBvF,EAAQiH,GACnDpG,YAAa,SAAuB0G,EAAQO,GAC3C9G,KAAKuG,OAASA,EACdvG,KAAK8G,SAAWA,GAGjBZ,WAAY,SAAoB/E,GAC/B,MAAO,OAIRgF,QAAS,SAAiBhF,EAAMiG,GAC/B,GAAIG,GAAgB,EAChB/B,EAAS4B,EAAK5B,OACd6B,EAAarH,KAAKsG,SAASnF,EAAMnB,KAAK8G,SACtCtB,GAAS,GACZ6B,EAAWhC,OAAOlE,EAAMqE,EAEzB,IAAI/E,GAAOT,KAAKsG,SAASnF,EAAMnB,KAAKuG,OACpC9F,GAAK+G,QAAQrG,GAEbnB,KAAK2B,MAAQ,CACb,IAAI8F,GAAaJ,EAAW7E,MACxB6E,GAAW5F,OAAON,KACrBnB,KAAK2B,OAAS8F,GAEfzH,KAAK2B,OAAS8F,EAAWjC,EAAO6B,EAAW1E,OACvClC,EAAKgB,OAAON,KACfnB,KAAK2B,OAASlB,EAAK+B,QAEpBxC,KAAK2B,OAASlB,EAAK+B,OAAO+E,EAAc9G,EAAKkC,QAM9Cd,qBACC6E,WAAY,gBACZ5E,WAAY,SAAiCzC,GAC5C,OAAQA,EAAIkH,OAAQlH,EAAIyH,cAQvBY,EAAehJ,EAAKiJ,KAAKD,aAEzBE,EAAQtI,EAAQsI,MAAQ,SAAeC,EAAGC,GAC1C,MAAOA,IAAK,GAAK,GAAK5I,EAASyE,MAAMmE,EAAI,GAAGxG,IAAI,SAAUZ,GACtD,MAAO+E,MAAKsC,IAAIF,EAAGnH,GAAK+E,KAAKsC,IAAI,EAAIF,EAAGC,EAAIpH,GAAKgH,EAAaI,EAAGpH,KAClEqE,WAGHiD,EAAU1I,EAAQ0I,QAAU,SAAiBH,EAAGI,GAChD,GAAI1E,GAAIrE,EAASgJ,OAAO,EAAGD,EAAGlH,QAAQgE,SAUtC,OATAkD,GAAGzH,QAAQ,SAAU2H,EAAIL,GACX,IAANA,EACAvE,EAAE,IAAM4E,EAERP,EAAMC,EAAGC,GAAGtH,QAAQ,SAAU4H,EAAI1H,GAC9B6C,EAAE7C,IAAMyH,EAAKC,MAIlB7E,GAeP4D,GAZW7H,EAAQ+I,SAAW,SAAkBC,EAAKC,GACxD,GAAIC,GAAOF,EAAIvH,OACd0H,EAAOF,EAAIxH,MACZ,OAAO7B,GAASyE,MAAM6E,EAAOC,EAAO,GAAGnH,IAAI,SAAUZ,GACpD,MAAOxB,GAASyE,MAAMjD,EAAI,GAAGO,OAAO,SAAUwF,GAC7C,MAAOA,GAAI+B,GAAS9H,EAAI+F,EAAKgC,GAC3B,SAAUhC,GACZ,MAAO6B,GAAI7B,GAAK8B,EAAI7H,EAAI+F,KACtB7E,QACDmD,WAGgBzF,EAAQ6H,cAAgBnI,EAAQJ,EAAQsH,WAAWwC,UACtE7I,YAAa,SAAuB8I,EAAgBC,EAAe5B,GAClEhH,KAAK2I,eAAiC,EAAhBA,EACtB3I,KAAK4I,cAA+B,EAAfA,EACrB5I,KAAKgH,YAA2B,EAAbA,EACnBhH,KAAK6I,YAAcpD,KAAKqD,IAAI,EAAGrD,KAAKC,IAAI,GAAI,EAAIiD,EAAiB,GAAK,IACtE3I,KAAK+I,aAAetD,KAAKqD,IAAI,EAAGrD,KAAKC,IAAI,GAAI,EAAIkD,EAAgB,GAAK,GACtE,IAAII,GAAKhB,EAAQhI,KAAK+I,aAAcnB,EAAM5H,KAAK6I,YAAa7B,GAC5DhH,MAAKiJ,iBAAmBhK,EAAS+J,GAAI1H,IAAI,SAAUuG,EAAGlD,GACrD,OAAQA,EAAGkD,KACT9C,WAGJmE,aAAc,WACb,MAAOjK,GAASe,KAAKiJ,mBAGtBE,MAAO,SAAeC,GACrB,OAAQA,GAAU1K,EAAK2K,WAAWC,SAASC,eAAevJ,KAAKiJ,mBAGhEpH,qBACC6E,WAAY,gBACZ5E,WAAY,SAAiCzC,GAC5C,OAAQA,EAAIsJ,eAAgBtJ,EAAIuJ,cAAevJ,EAAI2H,kBCzPlDwC,EAAUlK,EAAQkK,QAAUxK,EAAQJ,EAAQ6K,MAC/CC,KAAM,UACNlD,SAAS,MAAQ,QACjBmD,OAAO,GAMP9J,YAAa,SAAiB+J,GAC7BhL,EAAQ6K,KAAKI,KAAK7J,KAAM4J,EAAOE,cAAgB9J,KAAKwG,QAAQ,IAC5DrH,EAAWa,KAAM4J,GAGfG,OAAM,UAGNA,OAAM,WAINC,QAAO,SAAY5J,QAAQ,EAAMC,kBAGjCF,OAAM,UAAaC,QAAQ,EAAMF,QAAQ,IAGzC6J,OAAM,kBAAqB7J,QAAQ,IAEjCF,KAAKiK,MAAQ,EAChBjK,KAAKkK,YAELlK,KAAKmK,YAMPA,SAAU,WACT,GAAIL,GAAe9J,KAAK8J,cACxB,KAAK9J,KAAK6D,OAAOiG,GAAcjJ,YAAa,CAC3C,GAAIH,IAAKV,KAAKwG,QAAQ4D,QAAQN,GAAgB,GAAK9J,KAAKwG,QAAQzF,MAChEf,MAAKqK,eAAiBrK,KAAKwG,QAAQ9F,IAC9BA,GACJV,KAAKkK,YAGP,MAAOlK,OAGRkK,UAAW,WACVlK,KAAKiK,OACL,IAAIpG,GAAS7D,KAAK6D,MAClB,KAAK,GAAIgE,KAAKhE,GACbA,EAAOgE,GAAG7G,YAEX,OAAOhB,OAaRsK,OAAQ,WACP,MAAOrL,GAASe,KAAK6D,QAAQY,SAAS,SAAUiF,EAAM3J,GACrD,OAAQ2J,EAAM3J,EAAK4B,WACjB4I,YAMJC,OAAQ,WACP,GAAIC,GAAUzK,KAAKwG,QAAQ,GAC1BkE,EAAU1K,KAAKwG,QAAQ,EACxB,IAAIxG,KAAK6D,OAAO4G,GAASjJ,aAAaxB,OACpCA,KAAK6D,OAAO6G,GAASlJ,aAAaxB,OAClCA,KAAKiK,OAASjK,KAAK2J,OAClB,CACF,GAAIW,GAAStK,KAAKsK,QAClB,OAAOtK,MAAK2K,cAAcL,EAAOG,GAAWH,EAAOI,GAAUD,GAE9D,MAAO,OAMRG,oBAAqB,WACpB5K,KAAKkE,QAAQ2G,aAAa7K,OAK3BoB,WAAY,WACX,MAAOpB,MAAKiF,gBAKb6F,MAAO,WACN,IAAK9K,KAAKwK,SAAU,CACnBxK,KAAK4K,qBACL,IAAId,GAAe9J,KAAK8J,cACxB,OAAOzK,GAAIyK,EAAc9J,KAAK6D,OAAOiG,GAAc5I,QAAQlB,OAE5D,MAAO,OAMR+K,KAAM,SAAc7J,EAASkG,EAAM4D,GAClC,GAAIlB,GAAe9J,KAAK8J,eACvBmB,EAAS/J,EAAQ4I,EAClB1K,IAAS6L,EAAQ,iBAAkBnB,EAAc,mBACjD,IAAI5D,GAAa+E,EAAO/E,WAAWlG,KAEnC,IADAZ,GAAS8G,GAAckB,EAAM,oBAAqBA,GAC9ClB,IAAekB,EAClB,MAAO,IAAIxI,GAAQsM,WAAWlL,KAAMkB,EAASgF,EAAY8E,EAEzD,IAAIG,GAAWH,EAAShL,KAAOrB,EAAOyM,MAAMpL,KAE5C,OADAiL,GAAO9E,QAAQgF,EAAU/D,GAClB+D,EAAShB,YAMlBtI,qBACCC,WAAY,SAA2BzC,GACtC,GAAIS,IACF+D,OAAQxE,EAAIwE,OACZK,QAAS7E,EAAI6E,QACb+F,MAAO5K,EAAI4K,MACXN,OAAQtK,EAAIsK,OAKd,OAHItK,GAAI4F,iBACPnF,EAAKmF,eAAiB5F,EAAI4F,iBAEnBnF,OChJPuL,EAAU/L,EAAQ+L,QAAUrM,GAC/BsM,eACEC,MAAOC,MAAOhJ,KAAMiD,KAAKgG,QACzBF,MAAOC,GAAI,EAAGhJ,KAAM,IACpB+I,MAAOC,GAAI,EAAGhJ,KAAMiD,KAAKgG,QACzBF,GAAI,EAAGC,MAAOhJ,KAAM,IACpB+I,GAAI,EAAGC,GAAI,EAAGhJ,KAAM,IACpB+I,GAAI,EAAGC,MAAOhJ,KAAMiD,KAAKgG,QACzBF,GAAI,EAAGC,GAAI,EAAGhJ,KAAM,IACpB+I,GAAI,EAAGC,GAAI,EAAGhJ,KAAMiD,KAAKgG,QAK3BC,UAEGC,UAAU,EAAMC,SAAS,IACzBD,UAAU,EAAOC,SAAS,IAG7BtK,KACC,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,mDACA,oDACCA,IAAI,SAAUuK,GACf,MAAO,IAAIC,YAAWD,EAAKhH,MAAK,OAGjCkH,uBAEAlM,YAAa,SAAiBC,GAE7BE,KAAKgM,MAAQhM,KAAKsB,IAAIP,OACtBf,KAAKiM,OAASjM,KAAKsB,IAAI,GAAGP,QAG3B8J,aAAc,SAAsBqB,GACnClM,KAAK+L,oBAAsB/L,KAAKmM,gBAAgBD,IAGjDC,gBAAiB,SAAyBD,GACzC,GAAIrI,GAASqI,EAAQrI,OACpB2G,IACD,KAAK,GAAI4B,KAAQvI,GAChBA,EAAOuI,GAAM7L,MAAMC,QAAQ,SAAUC,GAC/BA,EAAKgB,WACD+I,EAAO/J,EAAK6B,UAAY7B,IAInC,OAAO+J,IAGR6B,OAAQ,SAAgB/J,GACvB,GAAIgK,GAAOtM,KAAKsB,IAAIgB,EAAS,KAAOtC,KAAKsB,IAAIgB,EAAS,IAAIA,EAAS,GACnE,OAAOtC,MAAK0L,QAAQY,IAGrBC,WAAY,SAAoBjK,EAAUkK,GACzC,GAAIF,GAAOtM,KAAKqM,OAAO/J,EACvB,UAAUgK,IAAQA,EAAKX,UACpBa,GAAexM,KAAK+L,oBAAoBnG,eAAetD,KAG3DmK,UAAW,SAAmBnK,EAAUkK,GACvC,GAAIF,GAAOtM,KAAKqM,OAAO/J,EACvB,UAAUgK,IAAQA,EAAKV,SACpBY,GAAexM,KAAK+L,oBAAoBnG,eAAetD,KAG3DyE,SAAU,SAAkB2F,EAAIvE,GAC/B,GAAIwE,GAAKlH,KAAKmH,IAAIF,EAAG,GAAKvE,EAAG,IAC5B0E,EAAKpH,KAAKmH,IAAIF,EAAG,GAAKvE,EAAG,GAC1B,OAAO1C,MAAKqH,KAAKH,EAAKA,EAAKE,EAAKA,IAOjCrI,mBAAoB,SAA4B/D,EAAMkD,GAErDoJ,YAAYC,KAAI,4BAEhBrJ,EAAQA,GAAS,EACjB,IAKWiB,GAAKqI,EAAMzK,EAAM0K,EAAOC,EAL/BC,KACHC,GAAW5M,EAAK6B,UAGhBgJ,GAFQtL,KAAKgM,MACJhM,KAAKiM,OACCjM,KAAKsL,aAErB8B,GAAQ3M,EAAK6B,UAAY,CAEzB,KAAK,GAAI5B,GAAI,EAAGA,EAAI2M,EAAQtM,OAAQL,IAAK,CACxCkE,EAAMyI,EAAQ3M,GACd8B,EAAO4K,EAAQxI,EACf,KAAK,GAAI6B,GAAI,EAAGA,EAAI6E,EAAavK,OAAQ0F,IACxC0G,EAAQ7B,EAAa7E,GACrByG,EAAQ1K,EAAO2K,EAAM3K,KACjB0K,EAAQvJ,IACZsJ,GAAQrI,EAAI,GAAKuI,EAAM5B,GAAI3G,EAAI,GAAKuI,EAAM3B,KACtC4B,EAAQxH,eAAeqH,IAAUjN,KAAKuM,WAAWU,GAAM,KAC3DG,EAAQH,GAAQC,EAChBG,EAAQC,KAAKL,KASf,MANAF,aAAYC,KAAI,0BAChBD,YAAYQ,QACX,qBACA,2BACA,0BAEMH,GAKRI,SAAU,SAAkB/M,EAAMgN,EAAa9J,GAC9CA,EAAQA,GAAS,EACjB,IAOWiB,GAAKqI,EAAMzK,EAAM0K,EAAOC,EANlCO,EAASjN,EAAK6B,SACd8K,KACAC,GAAW5M,EAAK6B,UAGhBgJ,GAFQtL,KAAKgM,MACJhM,KAAKiM,OACCjM,KAAKsL,aAErB8B,GAAQM,GAAU,EAClBC,UAAUD,GAAU1N,KAAK+G,SAAS2G,EAAQD,EAE1C,KAAK,GAAI/M,GAAI,EAAGA,EAAI2M,EAAQtM,OAAQL,IAAK,CAExC,GADAkE,EAAMyI,EAAQ3M,GACVkE,EAAI,KAAO6I,EAAY,IAAM7I,EAAI,KAAO6I,EAAY,GACvD,OAAO,CAERjL,GAAO4K,EAAQxI,EACf,KAAK,GAAI6B,GAAI,EAAGA,EAAI6E,EAAavK,OAAQ0F,IACxC0G,EAAQ7B,EAAa7E,GACrByG,EAAQ1K,EAAO2K,EAAM3K,KACjB0K,EAAQvJ,IACZsJ,GAAQrI,EAAI,GAAKuI,EAAM5B,GAAI3G,EAAI,GAAKuI,EAAM3B,KACtC4B,EAAQxH,eAAeqH,IAAUjN,KAAKuM,WAAWU,GAAM,KAC3DG,EAAQH,GAAQC,EAChBS,UAAUV,GAAQjN,KAAK+G,SAASkG,EAAMQ,GACtCJ,EAAQC,KAAKL,IAEdI,GAAQO,KAAK,SAAUlB,EAAIvE,GAC1B,MAAQiF,GAAQV,GAAMiB,UAAUjB,IAAQU,EAAQjF,GAAMwF,UAAUxF,MAGlE,OAAO,GAKR0F,iBAAkB,SAAmBC,EAAQC,EAAQzK,GACpDA,EAAWA,GAAYE,EAAAA,CASvB,KARA,GAOCwK,GAPGxD,KACHe,EAAK9F,KAAKmH,IAAImB,EAAO,GAAKD,EAAO,IACjCtC,EAAK/F,KAAKmH,IAAImB,EAAO,GAAKD,EAAO,IACjCG,EAAMH,EAAO,GAAKC,EAAO,GAAM,KAC/BG,EAAMJ,EAAO,GAAKC,EAAO,GAAM,KAC/BI,EAASL,EAAOM,QAChBC,EAAM9C,EAAKC,EAELlI,MACNkH,EAAO8C,KAAKa,EAAOC,SACfD,EAAO,KAAOJ,EAAO,IAAMI,EAAO,KAAOJ,EAAO,KACpDC,EAAW,EAANK,EACDL,GAAMxC,IACT6C,GAAO7C,EACP2C,EAAO,IAAMF,GAEVD,EAAKzC,IACR8C,GAAO9C,EACP4C,EAAO,IAAMD,EAGf,OAAO1D,IAGRrG,SAAS,SAAkBmK,EAAajH,GACvC,GAAIiH,EAAYvO,OAASsH,EAAWtH,KACnC,MAAOyD,GAAAA,CAER,IAAIuD,GAAW/G,KAAK+G,SAASuH,EAAYhM,SAAU+E,EAAW/E,SAC9D,IAAIyE,EAAWuH,EAAYhL,WAC1B,MAAOE,GAAAA,CAIP,KAAK,GADJoB,GADG2J,EAAQvO,KAAKwO,UAAUF,EAAYhM,SAAU+E,EAAW/E,SAAUyE,GAE7DrG,EAAI,EAAGA,EAAI6N,EAAMxN,OAAQL,IAEjC,GADAkE,EAAM2J,EAAM7N,IACPV,KAAKyM,UAAU7H,IAAQ5E,KAAK+L,oBAAoBnH,IACnD5E,KAAK+L,oBAAoBnH,GAAKjE,KAAO2N,EAAY3N,IACjDX,KAAK+L,oBAAoBnH,GAAKjE,KAAO0G,EAAW1G,GACjD,MAAO6C,GAAAA,CAIT,OAAOuD,IAIT0H,YAAa,SAAqBhO,EAAMwB,GACvCA,EAASA,GAAUuB,EAAAA,CACnB,IAAIoB,GAAMnE,EAAK6B,SACd4B,EAAUlE,KACV0O,IAWD,OAVAzP,GAASe,KAAK2O,iBAAiBC,aAAa,SAAUC,EAAGC,GAExD,IAAK,GADD7B,GACKvM,EAAI,EAAGA,EAAIoO,EAAK/N,QAAUL,GAAKuB,IACvCgL,EAAO6B,EAAKpO,GACZuM,GAAQrI,EAAI,GAAKqI,EAAK,GAAIrI,EAAI,GAAKqI,EAAK,IACnC/I,EAAQuI,UAAUQ,MACvByB,EAAKzB,GAAQvM,GACTwD,EAAQ6H,oBAAoBkB,IALevM,QAQ1CgO,GAKR7M,qBACCC,WAAY,SAA2BzC,GACtC,YAKHgM,GAAQsD,gBAAkBtD,EAAQ0D,UAAUJ,gBAAkB,SAAW1M,GAUxE,IAAK,GARJuI,IAAWvI,OAAQA,GAQXvB,GAAKuB,EAAQvB,GAAKuB,EAAQvB,IAClC8J,GAAQ9J,GAAIuB,IAAWoJ,EAAQmD,WAAW,EAAG,IAAK9N,GAAIuB,IACtDuI,GAAQ9J,GAAIuB,IAAWoJ,EAAQmD,WAAW,EAAG,IAAK9N,GAAIuB,IAClDvB,KAAOuB,GAAUvB,IAAMuB,IAC1BuI,IAASvI,EAAQvB,IAAM2K,EAAQmD,WAAW,EAAG,KAAMvM,EAAQvB,IAC3D8J,IAASvI,EAAQvB,IAAM2K,EAAQmD,WAAW,EAAG,KAAMvM,EAAQvB,IAG7D,OAAO8J,IACL,GAIgBlL,GAAQ0P,aAAehQ,GACzCiQ,SAAU,IACVC,MAAO,IACPC,WAAY,EAEZtP,YAAa,SAAsBsB,EAAMiO,GACxCpP,KAAKqP,KAAOlO,EAAK+C,QAAQoL,cACzBtP,KAAKoP,KAAOA,GAGbpE,OAAQ,SAAgB7J,GACvB,GACCkO,GAAOrP,KAAKqP,IAEbrP,MAAKuP,gBAAgBpO,EACrB,KAAK,GAAIT,GAAI,EAAGA,EAAIV,KAAKmP,WAAYzO,IACpC2O,EAAKrP,KAAKwP,OAAOH,EAElB,OAAOA,IAGRE,gBAAiB,SAAyBpO,GACzC,GACCsO,GAEAC,EACAC,EAJGC,EAAO5P,KAEVqP,EAAOrP,KAAKqP,IAGb,KAAK,GAAItP,KAAQoB,GAAK0C,OACrB4L,EAAO1P,IAASC,KAAKoP,KAAO,KAC5BjO,EAAK0C,OAAO9D,GAAMQ,MAAMC,QAAQ,SAAUC,GACpCA,EAAKgB,WACTiO,EAAyB,EAAlBjP,EAAK6B,SAAS,GACrBqN,EAAyB,EAAlBlP,EAAK6B,SAAS,GAChB+M,EAAKK,GAGCL,EAAKK,GAAMC,KACrBN,EAAKK,GAAMC,GAAO,IAHlBN,EAAKK,MACLL,EAAKK,GAAMC,GAAM,GAIlBN,EAAKK,GAAMC,GAAQC,EAAKjK,UAAUlF,GAAQgP,MAM9C9J,UAAW,SAAmBlF,GAC7B,MAAOA,GAAKkB,SAIbkO,eAAgB,SAAwBR,EAAK9L,EAAEuM,EAAEC,GAChD,GAAIpL,GACHqL,EAAGC,EAASC,EAAOC,EAAbC,EAAI,CACX,KAAMJ,KAASA,EAAK,EAAGA,IACtB,IAAKC,KAASA,EAAK,EAAGA,KACT,IAAPD,GAAmB,IAAPC,IAAaZ,EAAK9L,EAAEyM,KAAQrL,EAAI0K,EAAK9L,EAAEyM,GAAIF,EAAEG,MAC7DtL,GAAKoL,EAAOC,EAAGA,EAAGC,EAAGA,GACrBC,EAAQE,EAAI,GAAKA,EAAKA,EACtBD,EAAQxL,EAAE,GAAOA,EAAKA,EAElBuL,EAASC,IACZC,EAAMzL,GAKV,OAAOyL,IAGRZ,OAAQ,SAAgBH,GASvB,IAAK,GAHJlG,GACAiH,EALGlB,EAAQlP,KAAKkP,MAChBa,GAAUM,IAAK5K,KAAK6K,OAASpB,GAAQzJ,KAAK6K,KAAK7K,KAAKgG,MAAQyD,IAC5DD,EAAWjP,KAAKiP,SAChBsB,KAIQhN,EAAG,EAAGA,EAAG8L,EAAKtO,OAAQwC,IAC9B,IAAK,GAAIuM,GAAI,EAAGA,EAAIT,EAAK9L,GAAGxC,OAAO+O,IAClC3G,EAAMkG,EAAK9L,GAAGuM,GACTU,MAAMrH,IAKVoH,EAAQhN,GAAKgN,EAAQhN,GAASgN,EAAQhN,MACtCgN,EAAQhN,GAAGuM,GAAM,MALjBM,EAAMpQ,KAAK6P,eAAeR,EAAK9L,EAAEuM,EAAEC,GACnCQ,EAAQhN,GAAKgN,EAAQhN,GAASgN,EAAQhN,MACtCgN,EAAQhN,GAAGuM,GAAM3G,GAAS,EAAI8F,GAAYmB,EAAMnB,EAQnD,OAAOsB,KC5YTjR,GAAQmR,MAGJC,SAAU,WACR,GAAIxM,GAAU,GAAImH,GAChBsF,EAAOC,EAAWC,eAClB1P,EAAO,GAAIqI,IACTtF,QAASA,EACTL,QACEiN,IAAK,GAAIF,GAAWC,gBAAiBjQ,OAAQ,MAE3CL,QAAS,EAAE,KAAKe,IAAI,SAAUgB,GAC5B,MAAO,IAAIqO,GAAKI,MAAMC,qBAAsB1O,SAAUA,QAG1D2O,KAAM,GAAIL,GAAWC,gBAAiBjQ,OAAQ,OAC5CL,QAAS,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,IAAIe,IAAI,SAAUgB,GACpD,MAAO,IAAIqO,GAAKI,MAAMC,qBAAsB1O,SAAUA,UAK1D,OAAOnB,IAGf+P,SAAU,WAKL,GAAIhN,GAAU,GAAImH,GACxBsF,EAAOC,EAAWC,eAClB1P,EAAO,GAAIqI,IACVtF,QAASA,EACTL,QACCiN,IAAK,GAAIF,GAAWC,gBAAiBjQ,OAAQ,MACtCL,QAAS,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,IAAIe,IAAI,SAAUgB,GACvD,MAAO,IAAIqO,GAAKI,MAAMC,qBAAsB1O,SAAUA,QAGxD2O,KAAM,GAAIL,GAAWC,gBAAiBjQ,OAAQ,OAC7CL,QAAS,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,IAAIe,IAAI,SAAUgB,GACrD,MAAO,IAAIqO,GAAKI,MAAMC,qBAAsB1O,SAAUA,UAKpD,OAAOnB,IAGdgQ,WAAY,WACZ,GAAIjN,GAAU,GAAImH,KACZ+F,KAAMjJ,GAAGkJ,MAAMC,OAAQrP,OAAQ,EAAGsP,EAAE,GAAIC,EAAE,KAC1CJ,KAAMjJ,GAAGkJ,MAAMC,OAAQrP,OAAQ,EAAGsP,EAAE,GAAIC,EAAE,KAC1CJ,KAAMjJ,GAAGkJ,MAAMC,OAAQrP,OAAQ,EAAGsP,EAAE,GAAIC,EAAE,KAC1CJ,KAAMjJ,GAAGkJ,MAAMC,OAAQrP,OAAQ,EAAGsP,EAAE,GAAIC,EAAE,IAC1CJ,KAAMjJ,GAAGkJ,MAAMC,OAAQrP,OAAQ,EAAGsP,EAAE,GAAIC,EAAE,IAC1CJ,KAAMjJ,GAAGkJ,MAAMC,OAAQrP,OAAQ,EAAGsP,EAAE,GAAIC,EAAE,IAC1CJ,KAAMjJ,GAAGkJ,MAAMC,OAAQrP,OAAQ,EAAGsP,EAAE,GAAIC,EAAE,KAE9Cb,EAAOC,EAAWC,eAClB1P,EAAO,GAAIqI,IACTtF,QAASA,EACTL,QACEiN,IAAK,GAAIF,GAAWC,gBAAiBjQ,OAAQ,MAC3CL,QAAS,EAAE,IAAIe,IAAI,SAAUgB,GAC3B,MAAO,IAAIqO,GAAKI,MAAMC,qBAAsB1O,SAAUA,QAG1D2O,KAAM,GAAIL,GAAWC,gBAAiBjQ,OAAQ,OAC5CL,QAAS,EAAE,IAAIe,IAAI,SAAUgB,GAC3B,MAAO,IAAIqO,GAAKI,MAAMC,qBAAsB1O,SAAUA,UAK3D,OAAOnB,IAEdsQ,WAAY,WACZ,GAAIvN,GAAU,GAAImH,KACZ+F,KAAMjJ,GAAGkJ,MAAMC,OAAQrP,OAAQ,EAAGsP,EAAE,GAAIC,EAAE,KAC1CJ,KAAMjJ,GAAGkJ,MAAMC,OAAQrP,OAAQ,EAAGsP,EAAE,GAAIC,EAAE,KAC1CJ,KAAMjJ,GAAGkJ,MAAMC,OAAQrP,OAAQ,EAAGsP,EAAE,GAAIC,EAAE,KAC1CJ,KAAMjJ,GAAGkJ,MAAMC,OAAQrP,OAAQ,EAAGsP,EAAE,GAAIC,EAAE,IAC1CJ,KAAMjJ,GAAGkJ,MAAMC,OAAQrP,OAAQ,EAAGsP,EAAE,GAAIC,EAAE,IAC1CJ,KAAMjJ,GAAGkJ,MAAMC,OAAQrP,OAAQ,EAAGsP,EAAE,GAAIC,EAAE,IAC1CJ,KAAMjJ,GAAGkJ,MAAMC,OAAQrP,OAAQ,EAAGsP,EAAE,GAAIC,EAAE,KAE9Cb,EAAOC,EAAWC,eAClB1P,EAAO,GAAIqI,IACTtF,QAASA,EACTL,QACEiN,IAAK,GAAIF,GAAWC,gBAAiBjQ,OAAQ,MAC3CL,QAAS,EAAE,IAAIe,IAAI,SAAUgB,GAC3B,MAAO,IAAIqO,GAAKI,MAAMC,qBAAsB1O,SAAUA,QAG1D2O,KAAM,GAAIL,GAAWC,gBAAiBjQ,OAAQ,OAC5CL,OAAQ,GAAIoQ,GAAKI,MAAMC,qBAAsB1O,UAAW,EAAE,GAAIG,QAAS,GAAIkO,GAAKe,OAAOC,cAAc,GACjG,GAAIhB,GAAKe,OAAOC,cAAgB,GAAIhB,GAAKe,OAAOC,cAChD,GAAIhB,GAAKe,OAAOC,cAAgB,GAAIhB,GAAKe,OAAOC,sBAIvD,OAAOxQ,IAGZyQ,WAAY,WACV,GAAI1N,GAAU,GAAImH,KACd+F,KAAMjJ,GAAGkJ,MAAMC,OAAQrP,OAAQ,EAAGsP,EAAE,GAAIC,EAAE,KAC1CJ,KAAMjJ,GAAGkJ,MAAMC,OAAQrP,OAAQ,EAAGsP,EAAE,GAAIC,EAAE,KAC1CJ,KAAMjJ,GAAGkJ,MAAMC,OAAQrP,OAAQ,EAAGsP,EAAE,GAAIC,EAAE,KAC1CJ,KAAMjJ,GAAGkJ,MAAMC,OAAQrP,OAAQ,EAAGsP,EAAE,GAAIC,EAAE,IAC1CJ,KAAMjJ,GAAGkJ,MAAMC,OAAQrP,OAAQ,EAAGsP,EAAE,GAAIC,EAAE,IAC1CJ,KAAMjJ,GAAGkJ,MAAMC,OAAQrP,OAAQ,EAAGsP,EAAE,GAAIC,EAAE,IAC1CJ,KAAMjJ,GAAGkJ,MAAMC,OAAQrP,OAAQ,EAAGsP,EAAE,GAAIC,EAAE,KAE9Cb,EAAOC,EAAWC,eAClB1P,EAAO,GAAIqI,IACTtF,QAASA,EACTL,QACEiN,IAAK,GAAIF,GAAWC,gBAAiBjQ,OAAQ,MAC3CL,QAAS,EAAE,IAAIe,IAAI,SAAUgB,GAC3B,MAAO,IAAIqO,GAAKI,MAAMC,qBAAsB1O,SAAUA,QAG1D2O,KAAM,GAAIL,GAAWC,gBAAiBjQ,OAAQ,OAC5CL,OAAQ,GAAIoQ,GAAKI,MAAMC,qBAAqB1O,UAAW,EAAE,KACzD,GAAIqO,GAAKI,MAAMc,sBAAsBvP,UAAW,EAAE,UAIrD,OAAOnB,IAEZ2Q,WAAY,WACZ,GAAI5N,GAAU,GAAImH,KACZ+F,KAAMjJ,GAAGkJ,MAAMC,OAAQrP,OAAQ,EAAGsP,EAAE,GAAIC,EAAE,KAC1CJ,KAAMjJ,GAAGkJ,MAAMC,OAAQrP,OAAQ,EAAGsP,EAAE,GAAIC,EAAE,KAC1CJ,KAAMjJ,GAAGkJ,MAAMC,OAAQrP,OAAQ,EAAGsP,EAAE,GAAIC,EAAE,KAC1CJ,KAAMjJ,GAAGkJ,MAAMC,OAAQrP,OAAQ,EAAGsP,EAAE,GAAIC,EAAE,IAC1CJ,KAAMjJ,GAAGkJ,MAAMC,OAAQrP,OAAQ,EAAGsP,EAAE,GAAIC,EAAE,IAC1CJ,KAAMjJ,GAAGkJ,MAAMC,OAAQrP,OAAQ,EAAGsP,EAAE,GAAIC,EAAE,IAC1CJ,KAAMjJ,GAAGkJ,MAAMC,OAAQrP,OAAQ,EAAGsP,EAAE,GAAIC,EAAE,KAE9Cb,EAAOC,EAAWC,eAClB1P,EAAO,GAAIqI,IACTtF,QAASA,EACTL,QACEiN,IAAK,GAAIF,GAAWC,gBAAiBjQ,OAAQ,MAC3CL,QAAS,EAAE,IAAIe,IAAI,SAAUgB,GAC3B,MAAO,IAAIqO,GAAKI,MAAMC,qBAAsB1O,SAAUA,QAG1D2O,KAAM,GAAIL,GAAWC,gBAAiBjQ,OAAQ,OAC5CL,QAAS,EAAE,KAAKe,IAAI,SAAUgB,GAC5B,MAAO,IAAIqO,GAAKI,MAAMC,qBAAsB1O,SAAUA,UAK3D,OAAOnB,IAGX4Q,WAAY,WACX,GAAIC,GAAepT,EAAQ4H,QAAQwL,aAClCxL,GAAW,GAAIwL,GAAgB,GAAIA,GACpCC,QAAOC,MAAQ,GAAItT,GAAQuT,MAAMnS,KAAKkR,WAAY1K,GAClD0L,MAAME,OAAOC,GAAE,QAAU,SAAUlR,EAAM+Q,GACxCD,OAAOK,SAASC,OAAOpR,KAExB+Q,MAAME,OAAOC,GAAE,OAAS,SAAUlR,EAAM2J,EAAOoH,GAC9CM,QAAQC,IAAI9T,EAAO+T,IAAI5H,MAExBoH,MAAME,OAAOC,GAAE,OAAS,SAAUlR,EAAM4J,EAAMmH,GACzCnH,YAAgBvB,IACnByI,OAAOK,SAASC,OAAOxH,KAGzBmH,MAAMvL,MAAMgM,KAAK,SAAUjQ,GAC1B8P,QAAQC,IAAI/P,EAAE8H,aAIhBoI,qBAAsB,WACrB,GAAIpM,IACF,GAAI5H,GAAQ4H,QAAQqM,kBAAmBC,gBAAiB,MAExD,GAAIlU,GAAQ4H,QAAQwL,cAErB7Q,EAAO,GAAI4R,GAAkB/S,KAAKkR,WACnCe,QAAOC,MAAQ,GAAItT,GAAQuT,MAAMhR,EAAMqF,GACvC0L,MAAME,OAAOC,GAAE,QAAU,SAAUlR,EAAM+Q,GACvB/Q,EAAK6R,aAAa9O,OAC5B+N,QAAOK,SAASC,OAAOpR,EAAK6R,gBAGpCd,MAAME,OAAOC,GAAE,OAAS,SAAUlR,EAAM2J,EAAOoH,GAC9CM,QAAQC,IAAI9T,EAAO+T,IAAI5H,MAExBoH,MAAME,OAAOC,GAAE,OAAS,SAAUlR,EAAM4J,EAAMmH,GAC5BnH,EAAKiI,aAAa9O,OAChC+N,QAAOK,SAASC,OAAOxH,EAAKiI,gBAEhCd,MAAMvL,MAAMgM,KAAK,SAAUjQ,GACvB8P,QAAQC,IAAG,wBACXD,QAAQC,IAAI/P,EAAE8H,aAKlByI,6BAA8B,WAC9B,GAAIzM,IACF,GAAI5H,GAAQ4H,QAAQqM,kBAAmBC,gBAAiB,IAAKI,QAAS,MAEtE,GAAItU,GAAQ4H,QAAQwL,cAErB7Q,EAAO,GAAI4R,GAAkB/S,KAAKkR,WAC/Be,QAAOC,MAAQ,GAAItT,GAAQuT,MAAMhR,EAAMqF,GACvC0L,MAAME,OAAOC,GAAE,QAAU,SAAUlR,EAAM+Q,GACzB/Q,EAAK6R,aAAa9O,OAC5B+N,QAAOK,SAASC,OAAOpR,EAAK6R,gBAGlCd,MAAME,OAAOC,GAAE,OAAS,SAAUlR,EAAM2J,EAAOoH,GAC7CM,QAAQC,IAAI9T,EAAO+T,IAAI5H,MAEzBoH,MAAME,OAAOC,GAAE,OAAS,SAAUlR,EAAM4J,EAAMmH,GAC9BnH,EAAKiI,aAAa9O,OAChC+N,QAAOK,SAASC,OAAOxH,EAAKiI,gBAE9Bd,MAAMvL,MAAMgM,KAAK,SAAUjQ,GACzB8P,QAAQC,IAAG,gCACXD,QAAQC,IAAI/P,EAAE8H,aAKrB2I,SAAU,SAAkB1I,EAASC,GACpC,GAAIsH,GAAepT,EAAQ4H,QAAQwL,aAClCxL,GACCiE,GAAW,GAAIuH,GACftH,GAAW,GAAIsH,GAEjBC,QAAOC,MAAQ,GAAItT,GAAQuT,MAAMnS,KAAKkR,WAAY1K,GAClD0L,MAAME,OAAOC,GAAE,QAAU,SAAUlR,EAAM+Q,GACxCD,OAAOK,SAASC,OAAOpR,KAMxB+Q,MAAME,OAAOC,GAAE,OAAS,SAAUlR,EAAM2J,EAAOoH,GAC9CM,QAAQC,IAAI9T,EAAO+T,IAAI5H,IACvBmH,OAAOK,SAASc,YAAYjS,KAG7B+Q,MAAME,OAAOC,GAAE,OAAS,SAAUlR,EAAM4J,EAAMmH,GACzCnH,YAAgBvB,IACnByI,OAAOK,SAASC,OAAOxH,KAIzBmH,MAAMvL,MAAMgM,KAAK,SAAUjQ,GAC1B8P,QAAQC,IAAI/P,EAAE8H,aCpQjB,IAAIoG,GAAatR,EAAQsR,WAAa,WACrC,GAAIA,MAKAyC,GACFC,YAAc3P,MAAO,EAAGsD,QAAS,GACjCsM,QAAU5P,MAAO,EAAGsD,QAAS,GAC7BuM,QAAU7P,MAAO,GAAIsD,QAAS,GAC9BwM,cAAgB9P,MAAO,GAAIsD,QAAS,GACpCyM,mBAAqB/P,MAAO,GAAIsD,QAAS,EAAG0M,GAAI,IAEjDjC,GACCC,cAAe3S,EAAQ6G,GACtBrD,KAAM,GACNiB,YAAa4P,EAAWI,aAAcJ,EAAWC,YACjDzT,YAAa,SAAuB2F,GACnCK,EAAMgE,KAAK7J,KAAMwF,MAGnBoO,eAAgB5U,EAAQ6G,GACvBrD,KAAM,GACNiB,YAAa4P,EAAWG,OAAQH,EAAWE,UAE5CM,eAAgB7U,EAAQ6G,GACvBrD,KAAM,GACNiB,YAAa4P,EAAWK,kBAAmBL,EAAWC,YACtDzT,YAAa,SAAwB2F,GACpCK,EAAMgE,KAAK7J,KAAMwF,OAIpBuL,GACCC,oBAAqBhS,EAAQgD,GAC5BE,QAAS,EACTC,QAAS,EACT2R,UAAU,EACVjU,YAAa,SAA6BuC,GACzCA,EAAQA,MACHA,EAAMK,SACVL,EAAMK,OAASvD,EAASyE,MAAM,GAAGrC,IAAI,WACpC,MAAO,IAAIoQ,GAAOC,gBAChB5M,WAEJ/C,EAAK6H,KAAK7J,KAAMoC,MAGlB2R,qBAAsB/U,EAAQgD,GAC7BE,QAAS,EACTC,QAAS,EACTM,OAAQvD,EAASgJ,OAAOwJ,EAAOkC,eAAgB,GAAG7O,UAClD+O,UAAU,IAEXjC,qBAAsB7S,EAAQgD,GAC7BE,QAAS,EACTC,QAAS,EACT2R,UAAU,EACVjU,YAAa,SAA8BuC,GAC1CA,EAAQA,MACHA,EAAMK,SACVL,EAAMK,OAASvD,EAASyE,MAAM,GAAGrC,IAAI,WACpC,MAAO,IAAIoQ,GAAOmC,iBAChB9O,WAEJ/C,EAAK6H,KAAK7J,KAAMoC,MAKCwO,GAAWC,eAAiB7R,EAAQY,GACxDoU,QAAS,iBACTC,gBAAiBvC,EACjBwC,eAAgBnD,EAEhBlR,YAAa,SAAwBC,GACpCF,EAAKiK,KAAK7J,KAAMF,KAKlB,OAAO8Q,KN/EqBtR,GAAQ6U,uBAAyBnV,EAAQJ,EAAQwV,QAG7EvU,YAAa,SAAgC+J,GAC5ChL,EAAQwV,OAAOvK,KAAK7J,KAAM4J,GAC1BzK,EAAWa,KAAM4J,GAChBtJ,MAAK,SAAYD,kBAClBL,KAAKqU,sBACHrU,KAAKsU,oBACLtU,KAAKuU,MAAQvU,KAAKwU,YAMrBA,SAAU,WACT,GAAIC,GAAOzU,IACX,OAAO0U,QAAOC,KAAKD,OAAOE,eAAe5U,OAAOsB,IAAI,SAAUX,GAC7D,MAAO8T,GAAK9T,KACVM,OAAO,SAAU4T,GACnB,MAAyB,kBAAXA,IAAyBA,EAAOnL,MAAqC,SAA7BmL,EAAOnL,KAAKoL,OAAO,EAAG,MAM9EC,UAAW,WACV/U,KAAKuU,MAAM3G,KAAK,SAAUoH,EAAIC,GAC7B,MAAOA,GAAG,GAAGnW,SAAWkW,EAAG,GAAGlW,UAAYmW,EAAG,GAAKD,EAAG,MAOvDE,SAAU,SAAkB/T,EAAMP,GACjC,GAAIuU,GAAMjU,EACVmM,EAAUrN,KAAKqU,mBACfe,EAAepV,KAAKsU,gBAEpB,IADAtU,KAAKqV,cAAclU,EAAMP,GACrByM,EAAQtM,OAAS,EACpB,IAAK,GAAIL,GAAI,EAAGI,EAAMd,KAAKuU,MAAMxT,OAAQL,EAAII,EAAKJ,IAIjD,GAHAyU,EAAOnV,KAAKuU,MAAM7T,GAEdQ,EAAUiU,EAAKtL,KAAK7J,KAAMmB,EAAMP,GACvB,CACZM,EAAQV,QAAQ,SAAUyK,GACzBA,EAAOqK,SAAWH,IAEnB9H,EAAQC,KAAKzG,MAAMwG,EAASnM,GAC5BkU,EAAa9H,KAAKzG,MAAMuO,EAAclU,EACtC,OAKH,MADA9B,GAAQiO,EAAQtM,OAAS,EAAG,4BACrBsM,EAAQkI,SAMhBF,cAAe,SAAuBlU,EAAMP,GAC3C,GAAKZ,KAAKwV,eAGH,GAAIxV,KAAKwV,cAAcvL,MAAQ9I,EAAK8I,MAAO,CACjD,GAAIwL,GAAOzV,KAAK0V,UAAUvU,GAAQnB,KAAK0V,UAAU1V,KAAKwV,cACtDxV,MAAKsU,iBAAiB9T,QAAQ,SAAUyK,GACvCA,EAAOqK,SAAS,IAAMrK,EAAOtJ,QAAU8T,IAExCzV,KAAKwV,cAAgBrU,EACrBnB,KAAKsU,oBACLtU,KAAK+U,iBATL/U,MAAKwV,cAAgBrU,EACrBnB,KAAKsU,qBAePoB,UAAW,SAAmBvU,EAAMP,GACnC,GAAIe,GAAQ,EACRa,EAAO,EACPmT,EAAa,EAEbC,EAAiB5V,KAAK4V,eAAezU,EAAKP,GAC1CiV,EAAcD,EAAe,GAC7BhS,EAAagS,EAAe,EAChChS,GAAWpD,QAAQ,SAAUsV,GAC5BtT,EAAOsT,EAAMtT,OACTsT,EAAMrU,WACTE,GAASa,GAEVmT,EAAaG,EAAMnT,OAASmT,EAAMlT,eAClCjB,GAASa,EAAKmT,EAAWG,EAAMnT,SAEhCkT,EAAYrV,QAAQ,SAAUuV,GAC7BvT,EAAOuT,EAAMvT,OACTuT,EAAMtU,WACTE,GAASa,GAEVmT,EAAaI,EAAMpT,OAASoT,EAAMnT,eAClCjB,GAASa,EAAKmT,EAAWI,EAAMpT,UAIjCd,qBACC6E,WAAY,yBACZ5E,WAAY,SAA0CzC,GACrD,MAAOW,MAAKgW,sBAAsB3W,GAAK,OAAS,YAOlD4W,MAAO,SAAeF,EAAMD,GAC3B,OAAQ,GAAIvU,GAAewU,EAAMpV,IAAI,GAAIyD,GAAY2R,EAAMpV,GAAGmV,EAAMnV,MAGrEuV,QAAS,SAAiBH,EAAMD,GAC/B,OAAQ,GAAIvU,GAAewU,EAAMpV,IAAI,GAAI4D,GAAcwR,EAAMpV,GAAGmV,EAAMnV,MAGvEwE,KAAM,SAAc4Q,EAAMI,GACzB,OAAQ,GAAI5U,GAAewU,EAAMpV,IAAIwV,IAsDrCC,mBAAoB,QAASA,GAAmBjV,EAAK4U,EAAMnV,GAC1D,GAAIwV,MACCC,EAAmBrW,KAAKqW,iBAAiBlV,EAAMP,EAMnD,OALAyV,GAAiB7V,QAAQ,SAAU8V,GAC9BtW,KAAKuW,QAAQpV,EAAKmV,EAAUP,IAC7BK,EAAmB9I,KAAKgJ,KAGrBF,GAITI,eAAgB,QAASA,GAAerV,EAAKV,EAAKG,GAChD,GAAI4V,MACAH,EAAmBrW,KAAKqW,iBAAiBlV,EAAMP,EASnD,OARAyV,GAAiB7V,QAAQ,SAAU8V,GACjC,GAAIA,EAAUzV,UAAS,CACrB,GAAI8C,GAAQ2S,EAAU7T,OAAO,GAAGgB,WAAW,GAAGE,OAC1CxC,EAAK+C,QAAQC,SAASmS,EAAU7V,EAAKkD,IAAUxC,EAAK+C,QAAQuS,OAAOH,EAAU7V,IAAO,KACtF+V,EAAelJ,KAAKgJ,MAInBE,GAITD,QAAS,SAAiBpV,EAAKuV,EAASzS,GACtC,QAAKyS,EAASjV,WAAYiV,EAAS7V,WAAcoD,EAAOxC,WAClDkV,gBAAgBxV,EAAKuV,EAASzS,KAAW2S,kBAAkBzV,EAAKuV,EAASzS,KAQjF0S,gBAAiB,SAAyBxV,EAAK4C,EAAQE,GACrD,QAAKF,EAAQtC,UAAawC,EAAOxC,WAAYsC,EAAQlD,aAAagW,yBAAyB1V,EAAK4C,EAAQE,IAAS,OAOnH2S,kBAAmB,SAA2BzV,EAAKmD,EAAUL,GAC3D,QAAKK,EAAU7C,UAAawC,EAAOxC,WAAY6C,EAAUzD,aAAaiW,2BAA2B3V,EAAKmD,EAAUL,IAAS,OAQ3H8S,iBAAkB,QAASA,GAAiB5V,EAAKuV,EAASzS,GACxD,IAAKyS,EAASjV,UAAYiV,EAAS7V,YAAcoD,EAAOxC,SAAM,CAC5D,GAAIuV,GAAchX,KAAK6W,yBAAyB1V,EAAKuV,EAASzS,GAC1DgT,EAAgBjX,KAAK8W,2BAA2B3V,EAAKuV,EAASzS,GAC9D8S,EAAmBtR,KAAKqD,IAAIkO,EAAaC,EAC7C,OAAOF,GAET,MAAO,IAKTF,yBAA0B,SAAkC1V,EAAK4U,EAAMD,GACrE,IAAKC,EAAMtU,UAAYsU,EAAMlV,YAAciV,EAAMrU,SAAM,CACrD,GAAIsF,GAAW5F,EAAK+C,QAAQuS,OAAOV,EAAOD,GACtC9O,EAAc,EACdpE,EAAemT,EAAMnT,cACzBA,GAAapC,QAAQ,SAAUqC,GAC7BA,EAAMY,WAAWjD,QAAQ,SAAUuF,GAC7BA,EAAGpC,OAASoD,IACdC,GAAejB,EAAGkB,YAIxB,IAAIiQ,GAAmBpB,EAAMlT,eAAe7B,OACxCgW,EAA+B,IAAZ/P,EAAgBkQ,CAIvC,OAHIH,GAAmB,MACrBA,EAAmB,KAEdA,EAET,MAAO,IAKTD,2BAA4B,SAAoC3V,EAAK4U,EAAMD,GACzE,IAAKC,EAAMtU,UAAYsU,EAAMlV,YAAciV,EAAMrU,UAC3CN,EAAK+C,QAAQC,SAAS4R,EAAMD,EAAM,IAAE,CACtC,GAAI9O,GAAc,EACdpE,EAAemT,EAAMnT,cACzBA,GAAapC,QAAQ,SAAUqC,GAC7BA,EAAMY,WAAWjD,QAAQ,SAAUuF,GAChB,IAAbA,EAAGpC,QACLqD,GAAejB,EAAGkB,YAIxB,IAAIiQ,GAAmBpB,EAAMlT,eAAe7B,OACxCgW,EAA+B,IAAZ/P,EAAgBkQ,CAIvC,OAHIH,GAAmB,MACrBA,EAAmB,KAEdA,EAGX,MAAO,IAIVI,cAAe,QAASA,GAAchW,EAAMP,GAE3C,GAAIiV,GAAc7V,KAAK4V,eAAezU,EAAKP,GAAQ,GAC/CuW,IACJ,KAAI,GAAIC,KAAMvB,IACRA,EAAYuB,GAAI3V,UAAYoU,EAAYuB,GAAIvW,WAChDsW,EAAc7J,KAAKuI,EAAYuB,GAGjC,OAAOD,IAIPE,eAAgB,QAASA,GAAelW,EAAMP,EAAQmD,GACpD,GAAIH,GAAa5D,KAAKqW,iBAAiBlV,EAAKP,GACxCyW,IACJ,KAAI,GAAIC,KAAM1T,GAAU,CACtB,GAAIK,GAASL,EAAW0T,GACpB3T,EAAQI,EAAQtB,OAAO,GAAGgB,WAAW,GAAGE,KACxCxC,GAAK+C,QAAQC,SAASJ,EAAQE,EAAON,IACvC0T,EAAe/J,KAAKrJ,GAGxB,MAAOoT,IAIVhB,iBAAkB,SAA0BlV,EAAMP,GAE/C,GAAI2W,GAAYvX,KAAK4V,eAAezU,EAAKP,GAAQ,EACjD,OAAO2W,GAAU7V,eAIpBkU,eAAgB,SAAwBzU,EAAMP,GAC3C,GAAI4W,GAAarW,EAAK0C,OAAOjD,GACzBiV,EAAc1U,EAAK0C,OAAOjD,GAAQL,MACpCkX,EAAQtW,EAAK2C,SAASlD,GACpB2W,EAAYpW,EAAK0C,OAAO4T,GAC1B7T,EAAczC,EAAK0C,OAAO4T,GAAOlX,KACnC,QAAQiX,EAAY3B,EAAa0B,EAAW3T,IAI/C8T,QAAS,SAAiBjX,EAAMU,GAC/B,MAAOV,GAAKmC,eAAe7B,OAASN,EAAKkC,QAIzCgV,aAAc,SAAsBxW,EAAKuV,EAASzS,GAChD,QAAKyS,EAASjV,WAAYiV,EAAS7V,WAAcoD,EAAOxC,WAC/CsV,iBAAiB5V,EAAKuV,EAASzS,IAAS,IAMnD2T,SAAU,SAAkBzW,EAAKuV,EAASzS,GACxC,QAAKyS,EAASjV,WAAYiV,EAAS7V,WAAcoD,EAAOxC,WAC/CsV,iBAAiB5V,EAAKuV,EAASzS,GAAQ,GAMlD4T,QAAS,QAASA,GAAQtX,GACxB,GAAIsX,GAAU,CAOd,OANAtX,GAAMC,QAAQ,SAAUC,GACtB,GAAI+B,GAAO/B,EAAK+B,MACZA,GAAOqV,IACTA,EAAUrV,KAGPqV,GAITC,kBAAmB,QAASA,GAAkBvX,GAC5C,GAAIsX,GAAU,EACVC,EAAoB,IAQxB,OAPAvX,GAAMC,QAAQ,SAAUC,GACtB,GAAI+B,GAAO/B,EAAK+B,MACZA,GAAOqV,IACTA,EAAUrV,EACVsV,EAAoBrX,KAGjBqX,GAOTC,QAASlZ,EAAW,EAAG,SAAiBsC,EAAMP,GAC5C,GAAIuW,GAAgBnX,KAAKmX,cAAchW,EAAMP,EAE7BZ,MAAK4V,eAAezU,EAAKP,GAAQ,EACjD,IAAmB,IAAfO,EAAK8I,MACP,IAAK,GAAIvJ,GAAI,EAAGA,EAAIyW,EAAcpW,OAAQL,IAAK,CAC7C,GAAIqV,GAAQoB,EAAczW,GACtBkD,EAAa5D,KAAKqX,eAAelW,EAAMP,EAAQmV,EACnD,IAAInS,EAAW7C,OAAO,EACpB,IAAK,GAAI0F,GAAI,EAAGA,EAAI7C,EAAW7C,OAAQ0F,IAAK,CAC1C,GAAIqP,GAAQlS,EAAW6C,EACvB,IAAIqP,EAAMtT,SAAWxC,KAAK8X,kBAAkBlU,GAAYpB,OACtD,MAAOxC,MAAKiW,MAAMF,EAAMD,IAMlC,MAAO,QAKVkC,QAASnZ,EAAW,EAAG,SAAiBsC,EAAMP,GAC7C,GAAIqX,GAAuBjY,KAAKqW,iBAAiBlV,EAAMP,GACnDuW,EAAgBnX,KAAKmX,cAAchW,EAAMP,EAC7C,IAAmB,IAAfO,EAAK8I,MACL,IAAK,GAAIvJ,GAAI,EAAGA,EAAIyW,EAAcpW,OAAQL,IAExC,IAAK,GADDqV,GAAQoB,EAAczW,GACjB+F,EAAI,EAAGA,EAAIwR,EAAqBlX,OAAQ0F,IAAK,CACpD,GAAIqP,GAAQmC,EAAqBxR,EACrC,IAAIzG,KAAK0X,QAAQ5B,EAAM3U,IAASA,EAAK+C,QAAQC,SAAS4R,EAAMD,EAAM,IACjE,MAAO9V,MAAKkW,QAAQH,EAAMD,GAK/B,MAAO,QAKPoC,QAASrZ,EAAW,EAAG,SAAiBsC,EAAMP,GAE5C,IAAK,GADDuW,GAAgBnX,KAAKmX,cAAchW,EAAMP,GACpCF,EAAI,EAAGA,EAAIyW,EAAcpW,OAAQL,IAGxC,IAAK,GAFDqV,GAAQoB,EAAczW,GACtBkD,EAAa5D,KAAKqX,eAAelW,EAAMP,EAAQmV,GAC1CtP,EAAI,EAAGA,EAAI7C,EAAW7C,OAAQ0F,IAAK,CAC1C,GAAIqP,GAAQlS,EAAW6C,EACvB,OAAOzG,MAAKiW,MAAMF,EAAMD,GAG5B,MAAO,QAGVqC,QAAStZ,EAAW,EAAG,SAAiBsC,EAAMP,GAG7C,IAAK,GAFDqX,GAAuBjY,KAAKqW,iBAAiBlV,EAAMP,GACtDuW,EAAgBnX,KAAKmX,cAAchW,EAAMP,GACjCF,EAAI,EAAGA,EAAIyW,EAAcpW,OAAQL,IAEtC,IAAK,GADDqV,GAAQoB,EAAczW,GACjB+F,EAAI,EAAGA,EAAIwR,EAAqBlX,OAAQ0F,IAAK,CACpD,GAAIqP,GAAQmC,EAAqBxR,GAC7B9C,EAAQoS,EAAMtT,OAAO,GAAGgB,WAAW,GAAGE,KAC1C,IAAIxC,EAAK+C,QAAQC,SAAS4R,EAAMD,EAAMnS,MAAW,EAAK,CACvD,GAAIyU,GAAcrC,EAAM3S,eAAejC,EACvC,IAAIiX,EAAYrX,OAAS,EACxB,MAAOf,MAAKmF,KAAK4Q,EAAMqC,EAAY,KAKzC,MAAO,SO/cT9Y,GAAQ+Y,SAAWrZ,GAClBa,YAAa,SAAkByY,GAC9BA,EAAStY,KAAKsY,OAASA,GAAUC,SAASC,eAAc,iBACxD,IAAIC,GAAMzY,KAAKyY,IAAMH,EAAOI,WAAU,KACtCD,GAAIE,UAAY,SAGjBC,YAAa,SAAqB5M,EAAOC,EAAQ4M,GAChD,GAAIP,GAAStY,KAAKsY,OACjBG,EAAMzY,KAAKyY,GACZA,GAAIK,OACJL,EAAIM,MAAMT,EAAOtM,MAAQA,EAAOsM,EAAOrM,OAASA,EAChD,KACC4M,EAAMhP,KAAK7J,KAAMyY,GAChB,QACDA,EAAIO,YAINzG,OAAQ,SAAgBrG,GACvB,GAAIhI,GAAUgI,EAAQhI,OACtBlE,MAAK4Y,YAAY1U,EAAQ8H,MAAO9H,EAAQ+H,OAAQ,SAAUwM,GACzDA,EAAIQ,UAAU,EAAG,EAAGjZ,KAAKsY,OAAOtM,MAAOhM,KAAKsY,OAAOrM,OACnD,KAAK,GAAIsF,GAAI,EAAGvF,EAAQ9H,EAAQ8H,MAAOuF,EAAIvF,EAAOuF,IACjD,IAAK,GAAIC,GAAI,EAAGvF,EAAS/H,EAAQ+H,OAAQuF,EAAIvF,EAAQuF,IAC/CtN,EAAQqI,YAAYgF,EAAGC,IAG3BxR,KAAKkZ,WAAW3H,EAAGC,EAAG,EAAG,EAAG,WAF5BxR,KAAKkZ,WAAW3H,EAAGC,EAAG,EAAG,EAAG,QAM/B,IAAI2H,GAAWnZ,KACd6D,EAASqI,EAAQrI,MAClB4U,GAAIW,YAAc,QAClBX,EAAIY,KAAO,WACX,KAAK,GAAIjN,KAAQvI,GAChBA,EAAOuI,GAAM7L,MAAMC,QAAQ,SAAUC,GAC/BA,EAAKgB,WACT0X,EAASD,WAAWzY,EAAK6B,SAAS,GAAI7B,EAAK6B,SAAS,GAAI,EAAG,EAAG7B,EAAKV,KAAKa,QACxE6X,EAAIE,UAAY,QAChBF,EAAIa,SAAS7Y,EAAKE,GAAIF,EAAK6B,SAAS,GAAI7B,EAAK6B,SAAS,UAO3D8Q,YAAa,SAAqBlH,EAASzL,GAE1C,GADAA,EAAOA,GAAQyL,EAAQjH,eACb,CACT,GAAIf,GAAUgI,EAAQhI,OACtBlE,MAAK4Y,YAAY1U,EAAQ8H,MAAO9H,EAAQ+H,OAAQ,SAAUwM,GACzD,GAECc,GAAO3U,EAFJjB,EAAQlD,EAAK6C,WACfiL,EAAQrK,EAAQuK,YAAYhO,EAAMkD,EAEpC,KAAK,GAAIkE,KAAK0G,GACbgL,EAAiC,IAAxB,EAAIhL,EAAM1G,GAAKlE,GAAe,GACvCiB,EAAMiD,EAAEhD,MAAK,KACb7E,KAAKkZ,YAAYtU,EAAI,IAAKA,EAAI,GAAI,EAAG,EAAG,kBAAmB2U,EAAM,SAKrEC,YAAc,SAAqBtN,EAAQpB,GAExC,GACCwN,GAAStY,KAAKsY,OACdG,EAAMzY,KAAKyY,IACXvU,EAAUgI,EAAQhI,OACVA,GAAQuV,KACjBzZ,MAAKuS,OAAOrG,GACZuM,EAAIK,OACJL,EAAIM,MAAMT,EAAOtM,MAAQ9H,EAAQwV,WAAYpB,EAAOrM,OAAS/H,EAAQyV,YAErE,KAAK,GAAI5Z,KAAQ+K,GAChBA,EAAM/K,GAAMS,QAAQ,SAAU2E,GACzBA,EAAKtF,aAAaiF,IACrB2T,EAAIK,OACJL,EAAIE,UAAY,UAChBF,EAAImB,YACJnB,EAAIoB,IAAI1U,EAAK7C,SAAS,GAAI6C,EAAK7C,SAAS,GAAG,EAAG,EAAG,EAAImD,KAAKqU,IAC1DrB,EAAIsB,OACJtB,EAAIO,YAIPP,GAAIO,WAGPE,WAAY,SAAoB3H,EAAGC,EAAGvF,EAAQD,EAAOgO,GACpD,GAAIvB,GAAMzY,KAAKyY,GACfA,GAAIE,UAAYqB,EAChBvB,EAAIwB,SAAS1I,EAAGC,EAAG,EAAG,KCvFxB,IAAI0I,GAAwB5a,EAAQ4a,sBAAwBlb,EAAQiH,GACnEpG,YAAa,SAA+B0G,EAAQO,GACnD9G,KAAKuG,OAASA,EACdvG,KAAK8G,SAAWA,GAGjBqT,gBAAiB,SAAyBhZ,EAAMD,EAAS8J,GACxD,GAAIlB,GAAe3I,EAAK2I,eACvB/F,EAAU/D,KAAKsG,SAASnF,EAAMnB,KAAKuG,QACnCtC,EAASjE,KAAKsG,SAASnF,EAAMnB,KAAK8G,UAClCgE,EAAQ5J,EAAQD,OAAO,SAAUyB,GAChC,MAAIA,aAAaoC,KAMhBpC,EAAE0X,aAAejZ,EAAK+C,QAAQ6C,SAASrE,EAAEJ,SAAU2B,EAAO3B,WACnD,KAMT+X,EAAYvP,EAAM7J,OAAO,SAAUyB,GAIlC,MADAA,GAAE4X,UAAYnZ,EAAK+C,QAAQC,SAASJ,EAASE,GACtCvB,EAAE4X,YAAc9W,EAAAA,GAMzB,OAAI6W,GAAWtZ,OAAS,GACvBsZ,EAAWzM,KAAK,SAAU2M,EAAIC,GAC7B,MAAOD,GAAGD,UAAYE,EAAGF,YAEnBnZ,EAAK4J,KAAK1L,EAAIyK,EAAcuQ,EAAW,IAAK,KAAMrP,KAEzDF,EAAM8C,KAAK,SAAU2M,EAAIC,GAExB,MAAOD,GAAGH,aAAeI,EAAGJ,eAGtBjZ,EAAK4J,KAAK1L,EAAIyK,EAAcgB,EAAM,IAAK,KAAME,KAMtDyP,SAAU,SAAkBtZ,EAAMD,GACjC,GAAIwZ,GAAS1a,IAEb,OADAkB,GAAUA,GAAWC,EAAK2J,QAAQ3J,EAAK2I,gBAChC5I,EAAQD,OAAO,SAAUyB,GAC/B,MAAOA,aAAa0B,IAAe1B,EAAEoE,WAAa4T,EAAO5T,YAI3DX,QAAS,SAAiBwU,EAAgB3P,GACzC,GAAI4P,GAAID,EAAe3H,aACtB0D,EAAW1W,KAAKsG,SAASsU,EAAG5a,KAAKuG,QACjCtC,EAASjE,KAAKsG,SAASsU,EAAG5a,KAAK8G,UAC/BgD,EAAe8Q,EAAE9Q,cAElB8Q,GAAIA,EAAE7P,KAAK1L,EAAIyK,EAAc,GAAIvI,GAAevB,KAAKuG,SAAU,KAAMyE,EACrE,IACC7G,GAAWyW,EAAE1W,QAAQC,SAASuS,EAAUzS,EAChCjE,MAAKya,SAASG,EAAG1Z,QAe1B,OAdKiD,KAEJyW,EAAI5a,KAAKma,gBAAgBS,EAAG1Z,QAAS8J,GACjC4P,EAAE3V,gBAAkB2V,EAAE3V,eAAetE,KAAO+Z,OAAOnU,SACtDpC,EAAWyW,EAAE1W,QAAQC,SAASJ,QAASE,KAGrCE,IACHyW,EAAIA,EAAE7P,KAAK1L,EAAIyK,EAAc,GAAI1F,GAAYsS,EAAS/V,GAAIsD,EAAOtD,OAE9Dia,EAAE3V,gBAAkB2V,EAAE3V,eAAetE,KAAO+Z,OAAOnU,SACtDqU,EAAIA,EAAE7P,KAAK1L,EAAIyK,EAAc,GAAI9G,GAAc0T,EAAS/V,KAAM,KAAMqK,IAErE2P,EAAe3H,aAAe4H,EACvBD,GAGR9Y,qBACC6E,WAAY,wBACZ5E,WAAY,SAAyCzC,GACpD,OAAQA,EAAIkH,OAAQlH,EAAIyH,cAOvBiM,EAAoBzT,EAAQyT,kBAAoB/T,EAAQJ,EAAQ6K,MAInE5J,YAAa,SAA2BqM,GACvClM,KAAKwG,QAAU0F,EAAQ1F,QACvB5H,EAAQ6K,KAAKI,KAAK7J,KAAMkM,EAAQpC,gBAChC9J,KAAKgT,aAAe9G,GAKrB1B,OAAQ,WACP,MAAOxK,MAAKgT,aAAaxI,UAK1BM,MAAO,WACN,GAAI9K,KAAKwK,SACR,MAAO,KAER,IAAIrJ,GAAOnB,KAAKgT,aACflJ,EAAe9J,KAAK8J,eACpBvG,IAWD,OAVAA,GAAEuG,GAAgB5K,EAAS2b,QAC1B1Z,EAAK0C,OAAOiG,GAAcvJ,MAAMU,OAAO,SAAUR,GAChD,OAAQA,EAAKgB,OAAON,IAASV,EAAKI,YAEnCM,EAAK0C,OAAO1C,EAAK2C,YAAYvD,MAAMU,OAAO,SAAUR,GACnD,OAAQA,EAAKgB,YAEbgD,SAAS,SAAUiS,EAAUzS,GAC9B,MAAO,IAAIiW,GAAsBxD,EAAS/V,GAAIsD,EAAOtD,MACnDoE,UACIxB,GAKRwH,KAAM,SAAc7J,EAASkG,EAAM4D,GAClC,GAAIG,GAAWH,EAAShL,KAAOrB,EAAOyM,MAAMpL,MAC3C8J,EAAe9J,KAAK8J,eACpBmB,EAAS/J,EAAQ4I,EAGlB,OAFAmB,GAAO9E,QAAQgF,EAAUH,GACzBG,EAASd,cAAgBc,EAAS6H,aAAa3I,cACxCc,GAGRtJ,qBACC6E,WAAY,oBACZ5E,WAAY,SAAqCzC,GAChD,OAAQA,EAAI2T,iBClJd,UALExS,QAAQ,SAAU4Q,GACnBA,EAAK1R,WAAWgH,WAAapH,EAAQC,YAAY,IAAM6R,EAAK1R,WAAWgH,WACvEpH,EAAQI,WAAWC,QAAQ2N,KAAK8D,KAEjCzS,EAAOgB,QAAQL,GACRA","file":"ludorum-wargame.min.js"}