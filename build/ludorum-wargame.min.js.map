{"version":3,"sources":["../src/__prologue__.js","../src/dynamicScripting.js","../src/armies.js","../src/wargame.js","../src/test.js","../src/moves.js","../src/grim-future.js","../src/render.js","../src/strategic.js","../src/terrainDiscrete.js","../src/__epilogue__.js"],"names":["__init__","base","Sermat","ludorum","playerRule","priority","fun","declare","iterable","Iterable","initialize","raiseIf","obj","exports","__package__","__name__","__dependencies__","__SERMAT__","include","Army","constructor","args","army","this","string","ignore","number","coerce","defaultValue","array","units","forEach","unit","i","id","player","isEnabled","len","length","startRound","filter","actions","game","activeUnit","getActions","map","ActivateAction","isEliminated","isDead","livingUnits","worth","sum","static __SERMAT__","serializer","score","Unit","radius","quality","defense","props","bool","position","Float32Array","cost","models","m","size","livingModels","model","health","toughness","EndTurnAction","isActive","hasMoved","concat","getMoveActions","getShootActions","maxRange","r","Infinity","equipments","equipment","range","enemyUnits","armies","opponent","shooter","ret","target","terrain","canShoot","ShootAction","reachablePositions","mapApply","k","v","pos","split","MoveAction","toArray","activate","__activeUnit__","endTurn","move","newPosition","suffer","woundCount","modelHealth","wounds","Math","min","influence","hasOwnProperty","Model","shooting","eq","melee","Wargame","Game","name","players","rounds","params","call","activePlayer","object","integer","round","nextRound","nextTurn","indexOf","activePlayers","p","scores","toObject","result","player1","player2","zerosumResult","synchronizeMetagame","resetTerrain","moves","next","haps","update","action","aleatories","Contingent","nextGame","sermat","execute","test","example0","Terrain","ARMY","GrimFuture","BattleBrothers","Red","UNITS","BattleBrothers_Unit","Blue","example1","exampleDS1","type","p2","Shape","CIRCLE","x","y","exampleDS2","MODELS","BattleBrother","exampleDS3","SupportBrothers_Unit","exampleDS4","randomGame","RandomPlayer","window","match","Match","events","on","RENDERER","render","console","log","ser","run","then","randomAbstractedGame","MonteCarloPlayer","simulationCount","timeCap","AbstractedWargame","concreteGame","loadUnitsBut","renderGrid","randomAbstractedGameDiscrete","alert","testGame","renderSight","GameAction","objects","unimplemented","unitById","unitId","j","identifier","Array","apply","targetId","distance","canSee","attackCount","attacks","aleatory","ShootAleatory","targetUnit","targetWorth","AssaultAction","counterWounds","disable","targetCost","combinations","math","rolls","n","pow","rerolls","ns","repeat","p3","addRolls","rs1","rs2","len1","len2","Aleatory","shooterQuality","targetDefense","__hitProb__","max","__saveProb__","rs","__distribution__","distribution","value","random","Randomness","DEFAULT","weightedChoice","EQUIPMENTS","LightClaws","CClaws","Pistol","AssaultRifle","HeavyFlamethrower","ap","AssaultBrother","SupportBrother","fearless","AssaultBrothers_Unit","faction","static MODELS","static UNITS","DynamicScriptingPlayer","Player","__pendingActions__","__roundActions__","rules","ownRules","self","Object","keys","getPrototypeOf","member","substr","sortRules","sort","r1","r2","decision","rule","pending","roundActions","adjustWeights","__rule__","push","shift","__lastRound__","diff","gameWorth","deadModels","armiesAndUnits","playerUnits","unitY","unitX","serializeAsProperties","shoot","assault","moveAction","mostDangerousUnits","livingEnemyUnits","enemyUnit","canKill","dangerousUnits","attacker","canKillShooting","canKillAssaulting","bestAttackResultShooting","assaulter","bestAttackResultAssaulting","bestAttackResult","barShooting","barAssaulting","unitYModelsAlive","possibleUnits","pu","shootableUnits","eu","enemyArmy","playerArmy","enemy","wounded","canWoundALot","canWound","maxCost","mostExpensiveUnit","rule_3A","rule_2A","livingEnemyUnitsList","rule_1A","rule_1B","moveActions","Renderer","canvas","document","getElementById","ctx","getContext","fillStyle","__scope__","wargame","block","width","height","save","scale","restore","clearRect","isPassable","drawSquare","renderer","strokeStyle","font","team","fillText","sight","areaOfSight","forEachApply","d","alpha","color","fillRect","render2","world","addArmiesToWorld","WorldWidth","WorldHeight","bodies","body","shapes","drawCircle","drawBox","renderMoves","beginPath","arc","PI","fill","translate","rotate","interpolatedAngle","boxBody","boxShape","rect","stroke","grid","w","h","renderGridSight","a","renderInfluence","absMax","opacity","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY","isNaN","abs","StrategicAttackAction","executeMovement","theGame","__distance__","getDistance","approaches","__range__","m1","m2","getShots","attack","abstractedGame","g","shots","randomNext","product","SURROUNDINGS","dx","dy","SQRT2","tileSet","passable","visible","line","Uint8Array","__unitsByPosition__","unitsByPosition","tileAt","tile","checkUnits","isVisible","pos2","cost2","delta","visited","dual bresenham","point1","point2","e2","sx","sy","curLoc","slice","err","shooterUnit","bresenham","area","BRESENHAM_CACHE","_","path","prototype","InfluenceMap","momentum","decay","iterations","role","terrainGrid","unitsInfluences","spread","sign","posX","posY","imap","getMomentumInf","c","decays","di","dj","absInf","absV","inf","NaN","exp","oneGrid"],"mappings":"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","file":"ludorum-wargame.min.js"}